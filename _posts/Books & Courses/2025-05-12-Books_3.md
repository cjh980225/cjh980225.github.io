---

title: "[ì´ê²ƒì´ ë°ì´í„° ë¶„ì„ì´ë‹¤] êµ­ê°€ë³„ ìŒì£¼ ë°ì´í„° ë¶„ì„í•˜ê¸°"

categories: Books&Courses

tags: [Book, ì´ê²ƒì´_ë°ì´í„°_ë¶„ì„ì´ë‹¤, pandas, visualization, analysis]

---

## êµ­ê°€ë³„ ìŒì£¼ ë°ì´í„° ë¶„ì„í•˜ê¸° 

### íƒìƒ‰ : ë°ì´í„°ì˜ ê¸°ì´ˆ ì •ë³´ ì‚´í´ë³´ê¸° 

|í”¼ì²˜|ì˜ë¯¸|
|-|-|
|country|êµ­ê°€ ì •ë³´|
|beer_servings|beer ì†Œë¹„ëŸ‰|
|spirit_servings|spirit ì†Œë¹„ëŸ‰|
|wine_servings|wine ì†Œë¹„ëŸ‰|
|total_liters_of_pure_alcoholì´ ì•Œì½”ì˜¬ ì†Œë¹„ëŸ‰|
|continent|êµ­ê°€ì˜ ëŒ€ë¥™ ì •ë³´|

ğŸ” **drinks ë°ì´í„°ì…‹ì˜ ê¸°ì´ˆ ì •ë³´ ì¶œë ¥í•˜ê¸°**


```python
# -*- coding : utf-8 -*-

import pandas as pd 
import numpy as np
import matplotlib.pyplot as plt 

file_path = './data/drinks.csv'
drinks = pd.read_csv(file_path)
print(drinks.info())
drinks.head(10)
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 193 entries, 0 to 192
    Data columns (total 6 columns):
     #   Column                        Non-Null Count  Dtype  
    ---  ------                        --------------  -----  
     0   country                       193 non-null    object 
     1   beer_servings                 193 non-null    int64  
     2   spirit_servings               193 non-null    int64  
     3   wine_servings                 193 non-null    int64  
     4   total_litres_of_pure_alcohol  193 non-null    float64
     5   continent                     170 non-null    object 
    dtypes: float64(1), int64(3), object(2)
    memory usage: 9.2+ KB
    None
    




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>beer_servings</th>
      <th>spirit_servings</th>
      <th>wine_servings</th>
      <th>total_litres_of_pure_alcohol</th>
      <th>continent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>AS</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Albania</td>
      <td>89</td>
      <td>132</td>
      <td>54</td>
      <td>4.9</td>
      <td>EU</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>25</td>
      <td>0</td>
      <td>14</td>
      <td>0.7</td>
      <td>AF</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Andorra</td>
      <td>245</td>
      <td>138</td>
      <td>312</td>
      <td>12.4</td>
      <td>EU</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Angola</td>
      <td>217</td>
      <td>57</td>
      <td>45</td>
      <td>5.9</td>
      <td>AF</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Antigua &amp; Barbuda</td>
      <td>102</td>
      <td>128</td>
      <td>45</td>
      <td>4.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Argentina</td>
      <td>193</td>
      <td>25</td>
      <td>221</td>
      <td>8.3</td>
      <td>SA</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Armenia</td>
      <td>21</td>
      <td>179</td>
      <td>11</td>
      <td>3.8</td>
      <td>EU</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Australia</td>
      <td>261</td>
      <td>72</td>
      <td>212</td>
      <td>10.4</td>
      <td>OC</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Austria</td>
      <td>279</td>
      <td>75</td>
      <td>191</td>
      <td>9.7</td>
      <td>EU</td>
    </tr>
  </tbody>
</table>
</div>




```python
drinks.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>beer_servings</th>
      <th>spirit_servings</th>
      <th>wine_servings</th>
      <th>total_litres_of_pure_alcohol</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>193.000000</td>
      <td>193.000000</td>
      <td>193.000000</td>
      <td>193.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>106.160622</td>
      <td>80.994819</td>
      <td>49.450777</td>
      <td>4.717098</td>
    </tr>
    <tr>
      <th>std</th>
      <td>101.143103</td>
      <td>88.284312</td>
      <td>79.697598</td>
      <td>3.773298</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>20.000000</td>
      <td>4.000000</td>
      <td>1.000000</td>
      <td>1.300000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>76.000000</td>
      <td>56.000000</td>
      <td>8.000000</td>
      <td>4.200000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>188.000000</td>
      <td>128.000000</td>
      <td>59.000000</td>
      <td>7.200000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>376.000000</td>
      <td>438.000000</td>
      <td>370.000000</td>
      <td>14.400000</td>
    </tr>
  </tbody>
</table>
</div>



### ì¸ì‚¬ì´íŠ¸ì˜ ë°œê²¬ : íƒìƒ‰ê³¼ ì‹œê°í™”í•˜ê¸°

ğŸ” **ìƒê´€ ë¶„ì„**

â–ª ìƒê´€ ë¶„ì„ì´ë€ ë‘ ë³€ìˆ˜ ê°„ì˜ ì„ í˜•ì  ê´€ê³„ë¥¼ ìƒê´€ ê³„ìˆ˜ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìƒê´€ ê³„ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ê²ƒì€ ê³µë¶„ì‚°ì˜ ê°œë…ì„ í¬í•¨í•©ë‹ˆë‹¤. ê³µë¶„ì‚°ì€ 2ê°œì˜ í™•ë¥  ë³€ìˆ˜ì— ëŒ€í•œ ìƒê´€ ì •ë„ë¡œ, 2ê°œì˜ ë³€ìˆ˜ ì¤‘ í•˜ë‚˜ì˜ ê°’ì´ ìƒìŠ¹í•˜ëŠ” ê²½í–¥ì„ ë³´ì¼ ë•Œ ë‹¤ë¥¸ ê°’ë„ ìƒìŠ¹í•˜ëŠ” ê²½í–¥ì„ ìˆ˜ì¹˜ë¡œ ë‚˜íƒ€ë‚¸ ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ê³µë¶„ì‚°ë§Œìœ¼ë¡œ ë‘ í™•ë¥  ë³€ìˆ˜ì˜ ìƒê´€ ê´€ê³„ë¥¼ êµ¬í•œë‹¤ë©´ ë‘ ë³€ìˆ˜ì˜ ë‹¨ìœ„ í¬ê¸°ì— ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë¥¼ -1ê³¼ 1 ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì´ë¥¼ ìƒê´€ ê³„ìˆ˜ë¼ í•©ë‹ˆë‹¤. ë§Œì•½ ìƒê´€ ê³„ìˆ˜ê°€ 1ì— ê°€ê¹ë‹¤ë©´ ì„œë¡œ ê°•í•œ ì–‘ì˜ ìƒê´€ ê´€ê³„ê°€ ìˆëŠ” ê²ƒì´ê³ , -1ì— ê°€ê¹ë‹¤ë©´ ìŒì˜ ìƒê´€ê´€ê³„ê°€ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤. 

ğŸ” **ë‘ í”¼ì²˜ ê°„ì˜ ìƒê´€ ê³„ìˆ˜ êµ¬í•˜ê¸°**


```python
# beer_servings, wine_servings ë‘ í”¼ì²˜ ê°„ì˜ ìƒê´€ ê³„ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. 
# pearsonì€ ìƒê´€ ê³„ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ê³„ì‚° ë°©ë²• ì¤‘ í•˜ë‚˜ë¥¼ ì˜ë¯¸í•˜ë©°, ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. 
corr = drinks[['beer_servings', 'wine_servings']].corr(method = 'pearson')
corr
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>beer_servings</th>
      <th>wine_servings</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>beer_servings</th>
      <td>1.000000</td>
      <td>0.527172</td>
    </tr>
    <tr>
      <th>wine_servings</th>
      <td>0.527172</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ” **ì—¬ëŸ¬ í”¼ì²˜ì˜ ìƒê´€ ê´€ê³„ ë¶„ì„í•˜ê¸°**


```python
# í”¼ì²˜ ê°„ì˜ ìƒê´€ ê³„ìˆ˜ í–‰ë ¬ì„ êµ¬í•©ë‹ˆë‹¤. 
cols = ['beer_servings', 'spirit_servings', 'wine_servings', 'total_litres_of_pure_alcohol']
corr = drinks[cols].corr(method = 'pearson')
corr
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>beer_servings</th>
      <th>spirit_servings</th>
      <th>wine_servings</th>
      <th>total_litres_of_pure_alcohol</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>beer_servings</th>
      <td>1.000000</td>
      <td>0.458819</td>
      <td>0.527172</td>
      <td>0.835839</td>
    </tr>
    <tr>
      <th>spirit_servings</th>
      <td>0.458819</td>
      <td>1.000000</td>
      <td>0.194797</td>
      <td>0.654968</td>
    </tr>
    <tr>
      <th>wine_servings</th>
      <td>0.527172</td>
      <td>0.194797</td>
      <td>1.000000</td>
      <td>0.667598</td>
    </tr>
    <tr>
      <th>total_litres_of_pure_alcohol</th>
      <td>0.835839</td>
      <td>0.654968</td>
      <td>0.667598</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>




```python
import seaborn as sns 
import matplotlib.pyplot as plt 

# corr í–‰ë ¬ íˆíŠ¸ë§µì„ ì‹œê°í™”í•©ë‹ˆë‹¤. 
cols_view = ['beer', 'spirit', 'wine', 'alcohol'] # ê·¸ë˜í”„ ì¶œë ¥ì„ ìœ„í•œ cols ì´ë¦„ì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
sns.set(font_scale = 1.5)
hm = sns.heatmap(corr.values, 
                cbar = True, 
                annot = True, 
                square = True, 
                fmt = '.2f', 
                annot_kws = {'size' : 15}, 
                yticklabels = cols_view, 
                xticklabels = cols_view)

plt.tight_layout()
plt.show()
```


    
![png](/assets/images/Book/3/output_8_0.png)
    



```python
# ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•œ í”¼ì²˜ ê°„ì˜ ì‚°ì ë„ ê·¸ë˜í”„ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
sns.set(style = 'whitegrid', context = 'notebook')
sns.pairplot(drinks[['beer_servings', 'spirit_servings', 'wine_servings', 'total_litres_of_pure_alcohol']], 
            height = 2.5)
plt.show()
```


    
![png](/assets/images/Book/3/output_9_0.png)
    


### íƒìƒ‰ì  ë¶„ì„ : ìŠ¤ë¬´ê³ ê°œë¡œ ê°œë…ì  íƒìƒ‰ ë¶„ì„í•˜ê¸°

ğŸ” **ê²°ì¸¡ ë°ì´í„° ì „ì²˜ë¦¬í•˜ê¸°**


```python
# ê²°ì¸¡ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤ : ê¸°íƒ€ ëŒ€ë¥™ìœ¼ë¡œ í†µí•© â†’ 'OT'
drinks['continent'] = drinks['continent'].fillna('OT')
drinks.head(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>beer_servings</th>
      <th>spirit_servings</th>
      <th>wine_servings</th>
      <th>total_litres_of_pure_alcohol</th>
      <th>continent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>AS</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Albania</td>
      <td>89</td>
      <td>132</td>
      <td>54</td>
      <td>4.9</td>
      <td>EU</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>25</td>
      <td>0</td>
      <td>14</td>
      <td>0.7</td>
      <td>AF</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Andorra</td>
      <td>245</td>
      <td>138</td>
      <td>312</td>
      <td>12.4</td>
      <td>EU</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Angola</td>
      <td>217</td>
      <td>57</td>
      <td>45</td>
      <td>5.9</td>
      <td>AF</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Antigua &amp; Barbuda</td>
      <td>102</td>
      <td>128</td>
      <td>45</td>
      <td>4.9</td>
      <td>OT</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Argentina</td>
      <td>193</td>
      <td>25</td>
      <td>221</td>
      <td>8.3</td>
      <td>SA</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Armenia</td>
      <td>21</td>
      <td>179</td>
      <td>11</td>
      <td>3.8</td>
      <td>EU</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Australia</td>
      <td>261</td>
      <td>72</td>
      <td>212</td>
      <td>10.4</td>
      <td>OC</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Austria</td>
      <td>279</td>
      <td>75</td>
      <td>191</td>
      <td>9.7</td>
      <td>EU</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ” **íŒŒì´ì°¨íŠ¸ë¡œ ì‹œê°í™”í•˜ê¸°**


```python
labels = drinks['continent'].value_counts().index.tolist()
fracs1 = drinks['continent'].value_counts().values.tolist()
explode = (0, 0, 0, 0.25, 0, 0)

plt.pie(fracs1, explode = explode, labels = labels, autopct = '%.0f%%', shadow = True)
plt.title('null data to \'OT\'')
plt.show()
```


    
![png](/assets/images/Book/3/output_13_0.png)
    


#### ëŒ€ë¥™ë³„ spirit_servingsì˜ í†µê³„ì  ì •ë³´ëŠ” ì–´ëŠ ì •ë„ì¼ê¹Œ? 

ğŸ” **agg() í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ëŒ€ë¥™ë³„ë¡œ ë¶„ì„í•˜ê¸°**


```python
# ëŒ€ë¥™ë³„ spirit_servingsì˜ í‰ê· , ìµœì†Œ, ìµœëŒ€, í•©ê³„ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. 
result = drinks.groupby('continent').spirit_servings.agg(['mean', 'min', 'max', 'sum'])
result
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>min</th>
      <th>max</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>continent</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AF</th>
      <td>16.339623</td>
      <td>0</td>
      <td>152</td>
      <td>866</td>
    </tr>
    <tr>
      <th>AS</th>
      <td>60.840909</td>
      <td>0</td>
      <td>326</td>
      <td>2677</td>
    </tr>
    <tr>
      <th>EU</th>
      <td>132.555556</td>
      <td>0</td>
      <td>373</td>
      <td>5965</td>
    </tr>
    <tr>
      <th>OC</th>
      <td>58.437500</td>
      <td>0</td>
      <td>254</td>
      <td>935</td>
    </tr>
    <tr>
      <th>OT</th>
      <td>165.739130</td>
      <td>68</td>
      <td>438</td>
      <td>3812</td>
    </tr>
    <tr>
      <th>SA</th>
      <td>114.750000</td>
      <td>25</td>
      <td>302</td>
      <td>1377</td>
    </tr>
  </tbody>
</table>
</div>



#### ì „ì²´ í‰ê· ë³´ë‹¤ ë§ì€ ì•Œì½”ì˜¬ì„ ì„­ì·¨í•˜ëŠ” ëŒ€ë¥™ì€ ì–´ë””ì¼ê¹Œ? 


```python
# ì „ì²´ í‰ê· ë³´ë‹¤ ë§ì€ ì•Œì½”ì˜¬ì„ ì„­ì·¨í•˜ëŠ” ëŒ€ë¥™ì„ êµ¬í•©ë‹ˆë‹¤. 
total_mean = drinks.total_litres_of_pure_alcohol.mean()
continent_mean = drinks.groupby('continent')['total_litres_of_pure_alcohol'].mean()
continent_over_mean = continent_mean[continent_mean >= total_mean]
continent_over_mean
```




    continent
    EU    8.617778
    OT    5.995652
    SA    6.308333
    Name: total_litres_of_pure_alcohol, dtype: float64



#### í‰ê·  beer_servingsê°€ ê°€ì¥ ë†’ì€ ëŒ€ë¥™ì€ ì–´ë””ì¼ê¹Œ? 


```python
# í‰ê·  beer_servingsê°€ ê°€ì¥ ë†’ì€ ëŒ€ë¥™ì„ êµ¬í•©ë‹ˆë‹¤. 
beer_continent = drinks.groupby('continent').beer_servings.mean().idxmax()
beer_continent
```




    'EU'



#### ì‹œê°í™”

ğŸ” **ë¶„ì„ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê¸°**


```python
# ëŒ€ë¥™ë³„ spirit_servingsì˜ í‰ê· , ìµœì†Œ, ìµœëŒ€, í•©ê³„ë¥¼ ì‹œê°í™”í•©ë‹ˆë‹¤. 
n_groups = len(result.index)
means = result['mean'].tolist()
mins = result['min'].tolist()
maxs = result['max'].tolist()
sums = result['sum'].tolist()

index = np.arange(n_groups)
bar_width = 0.1

rects1 = plt.bar(index, means, bar_width, color = 'r', label = 'Mean')
rects2 = plt.bar(index + bar_width, mins, bar_width, color = 'g', label = 'Min')
rects3 = plt.bar(index + bar_width * 2, maxs, bar_width, color = 'b', label = 'Max')
rects4 = plt.bar(index + bar_width * 3, sums, bar_width, color = 'y', label = 'Sum')

plt.xticks(index, result.index.tolist())
plt.legend()
plt.show()
```


    
![png](/assets/images/Book/3/output_21_0.png)
    



```python
# ëŒ€ë¥™ë³„ total_litres_of_pure_alcoholì„ ì‹œê°í™”í•©ë‹ˆë‹¤. 
continents = continent_mean.index.tolist()
continents.append('mean')
x_pos = np.arange(len(continents))
alcohol = continent_mean.tolist()
alcohol.append(total_mean)

bar_list = plt.bar(x_pos, alcohol, align = 'center', alpha = 0.5)
bar_list[len(continents) - 1].set_color('r')
plt.plot([0., 6], [total_mean, total_mean], "k--")
plt.xticks(x_pos, continents)

plt.ylabel('total_litres_of_pure_alcohol')
plt.title('total_litres_of_pure_alcohol by Continent')

plt.show()
```


    
![png](/assets/images/Book/3/output_22_0.png)
    



```python
# ëŒ€ë¥™ë³„ beer_servingsë¥¼ ì‹œê°í™”í•©ë‹ˆë‹¤. 
beer_group = drinks.groupby('continent')['beer_servings'].sum()
continents = beer_group.index.tolist()
y_pos = np.arange(len(continents))
alcohol = beer_group.tolist()

bar_list = plt.bar(y_pos, alcohol, align = 'center', alpha = 0.5)
bar_list[continents.index("EU")].set_color('r')
plt.xticks(y_pos, continents)
plt.ylabel('beer_servings')
plt.title('beer_servings by Continent')

plt.show()
```


    
![png](/assets/images/Book/3/output_23_0.png)
    


### í†µê³„ì  ë¶„ì„ : ë¶„ì„ ëŒ€ìƒ ê°„ì˜ í†µê³„ì  ì°¨ì´ ê²€ì •í•˜ê¸°

ğŸ” **t-test**

â–ª t-testë€ ë‘ ì§‘ë‹¨ ê°„ í‰ê· ì˜ ì°¨ì´ì— ëŒ€í•œ ê²€ì • ë°©ë²•ìœ¼ë¡œ, ëª¨ì§‘ë‹¨ì˜ í‰ê·  ë“±ê³¼ ê°™ì´ ì‹¤ì œ ì •ë³´ë¥¼ ëª¨ë¥¼ ë•Œ í˜„ì¬ì˜ ë°ì´í„°ë§Œìœ¼ë¡œ ë‘ ì§‘ë‹¨ì˜ ì°¨ì´ì— ëŒ€í•´ ê²€ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë‹¨, t-testëŠ” ê²€ì • ëŒ€ìƒì¸ ë‘ ì§‘ë‹¨ì˜ ë°ì´í„° ê°œìˆ˜ê°€ ë¹„ìŠ·í•˜ë©´ì„œ ë‘ ë°ì´í„°ê°€ ì •ê·œ ë¶„í¬ë¥¼ ë³´ì´ëŠ” ê²½ìš°ì— ì‹ ë¢°ë„ê°€ ë†’ì€ ê²€ì • ë°©ì‹ì…ë‹ˆë‹¤. 

ğŸ” **ì•„í”„ë¦¬ì¹´ì™€ ìœ ëŸ¼ ê°„ì˜ ë§¥ì£¼ ì†Œë¹„ëŸ‰ ì°¨ì´ ê²€ì •í•˜ê¸°**


```python
# ì•„í”„ë¦¬ì¹´ì™€ ìœ ëŸ½ ê°„ì˜ ë§¥ì£¼ ì†Œë¹„ëŸ‰ ì°¨ì´ ê²€ì •í•©ë‹ˆë‹¤.
africa = drinks.loc[drinks['continent'] == 'AF']
europe = drinks.loc[drinks['continent'] == 'EU']

from scipy import stats 
tTestResult = stats.ttest_ind(africa['beer_servings'], europe['beer_servings'])
tTestResultDiffVar = stats.ttest_ind(africa['beer_servings'], 
                                    europe['beer_servings'], equal_var = False)

print("The t-statistic and p-value assuming equal variances is %.3f and %.3f." %tTestResult)
print("The t-statistic and p-value anot assuming equal variances is %.3f and %.3f" % tTestResultDiffVar)
```

    The t-statistic and p-value assuming equal variances is -7.268 and 0.000.
    The t-statistic and p-value anot assuming equal variances is -7.144 and 0.000
    

â–ª ì‹¤í–‰ ê²°ê³¼ì— ë“±ì¥í•˜ëŠ” t-statisticì€ t-testì˜ ê²€ì • í†µê³„ëŸ‰ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒìœ¼ë¡œ, í•¨ê»˜ ì¶œë ¥ë˜ëŠ” **p-value**ì™€ ì—°ê´€ ì§€ì–´ í•´ì„í•´ì•¼ í•©ë‹ˆë‹¤. p-valueëŠ” ê°€ì„¤ì´ ì–¼ë§ˆë‚˜ ë¯¿ì„ë§Œí•œ ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œë¡œ, ë°ì´í„°ë¥¼ ìƒˆë¡œ ìƒ˜í”Œë§í–ˆì„ ë•Œ **ê·€ë¬´ ê°€ì„¤ì´ ë§ë‹¤ëŠ” ì „ì œ í•˜ì— í˜„ì¬ ë‚˜ì˜¨ í†µê³„ê°’ ì´ìƒì´ ë‚˜ì˜¬ í™•ë¥ ** ì´ë¼ê³  ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ p-valueê°€ ë„ˆë¬´ ë‚®ìœ¼ë©´ ê·€ë¬´ ê°€ì„¤ì´ ì¼ì–´ë‚  í™•ë¥ ì´ ë„ˆë¬´ ë‚®ê¸° ë•Œë¬¸ì— ê·€ë¬´ ê°€ì„¤ì„ ê¸°ê°í•˜ê²Œ ë©ë‹ˆë‹¤. ë³´í†µ ê·¸ ê¸°ì¤€ì€ 0.05ë‚˜ 0.01ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ë©°, ì´ë¥¼ **p-value(ìœ ì˜í™•ë¥ )** ì´ë¼ê³  í•©ë‹ˆë‹¤. ê·€ë¬´ ê°€ì„¤ì´ë€ ì²˜ìŒë¶€í„° ë²„ë¦´ ê²ƒì„ ì˜ˆìƒí•˜ëŠ” ê°€ì„¤ì´ë©°, ê°€ì„¤ì´ ë§ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ì¦ëª…í•˜ê¸° ìœ„í•´ ìˆ˜ë¦½í•˜ëŠ” ê°€ì„¤ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë°˜ëŒ€ë˜ëŠ” ê²ƒì„ ëŒ€ë¦½ ê°€ì„¤ì´ë¼ê³  ë¶€ë¥´ë©°, ê·€ë¬´ ê°€ì„¤ì´ ê±°ì§“ì¸ ê²½ìš°ì— ëŒ€ì•ˆì ìœ¼ë¡œ ì°¸ì´ ë˜ëŠ” ê°€ì„¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. 

â–« ì‹¤í–‰ ê²°ê³¼ì—ì„œëŠ” ë“±ë¶„ì‚°ì„ ê°€ì •í•œ ì¼€ì´ìŠ¤ì™€ ê°€ì •í•˜ì§€ ì•Šì€ ì¼€ì´ìŠ¤ ëª¨ë‘ p-valueê°€ 0.000 ì´í•˜ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. t-testì˜ ê·€ë¬´ ê°€ì„¤ì€ 'ë‘ ì§‘ë‹¨ì˜ í‰ê· ì´ ê°™ë‹¤'ì´ê³  ì´ ê·€ë¬´ ê°€ì„¤ì€ ê¸°ê°ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ 'ì•„í”„ë¦¬ì¹´ì™€ ìœ ëŸ½ ëŒ€ë¥™ ê°„ì˜ ë§¥ì£¼ ì†Œë¹„ëŸ‰ ì°¨ì´'ëŠ” í†µê³„ì ìœ¼ë¡œ ìœ ì˜ë¯¸í•˜ë‹¤ëŠ” ê²°ë¡ ì„ ëŒ€ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

â–« ì´ëŠ” ëŒ€ë¦½ ê°€ì„¤ì¸ 'ë‘ ì§‘ë‹¨ì˜ í‰ê· ì´ ë‹¤ë¥´ë‹¤'ë¥¼ ì±„íƒí•œ ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‘ ì§‘ë‹¨ì˜ ë°ì´í„°ëŠ” í¬ê¸°ë„ ë‹¤ë¥´ê³ , ê°ê°ì˜ í¬ê¸° ë˜í•œ í¬ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œ í†µê³„ì ì¸ ì˜ë¯¸ë¥¼ ê°€ì§€ëŠ” ê²€ì •ì´ë¼ê³  ë³´ê¸°ì—” ì–´ë µìŠµë‹ˆë‹¤. 

ğŸ” **'ëŒ€í•œë¯¼êµ­ì€ ì–¼ë§ˆë‚˜ ìˆ ì„ ë…í•˜ê²Œ ë§ˆì‹œëŠ” ë‚˜ë¼ì¼ê¹Œ?'ì— ëŒ€í•œ íƒìƒ‰ ì½”ë“œ ì‚´í´ë³´ê¸°**


```python
# total_servings í”¼ì²˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. 
drinks['total_servings'] = drinks['beer_servings'] + drinks['wine_servings'] + drinks['spirit_servings']

# ìˆ  ì†Œë¹„ëŸ‰ ëŒ€ë¹„ ì•Œì½”ì˜¬ ë¹„ìœ¨ í”¼ì²˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. 
drinks['alcohol_rate'] = drinks['total_litres_of_pure_alcohol'] / drinks['total_servings']
drinks['alcohol_rate'] = drinks['alcohol_rate'].fillna(0)

# ìˆœìœ„ ì •ë³´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. 
country_with_rank = drinks[['country', 'alcohol_rate']]
country_with_rank = country_with_rank.sort_values(by = ['alcohol_rate'], ascending = 0)
country_with_rank.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>alcohol_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>63</th>
      <td>Gambia</td>
      <td>0.266667</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Sierra Leone</td>
      <td>0.223333</td>
    </tr>
    <tr>
      <th>124</th>
      <td>Nigeria</td>
      <td>0.185714</td>
    </tr>
    <tr>
      <th>179</th>
      <td>Uganda</td>
      <td>0.153704</td>
    </tr>
    <tr>
      <th>142</th>
      <td>Rwanda</td>
      <td>0.151111</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ” **êµ­ê°€ë³„ ìˆœìœ„ ì •ë³´ë¥¼ ì‹œê°í™”í•˜ê¸°**


```python
# êµ­ê°€ë³„ ìˆœìœ„ ì •ë³´ë¥¼ ê·¸ë˜í”„ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤. 
country_list = country_with_rank.country.tolist()
x_pos = np.arange(len(country_list))
rank = country_with_rank.alcohol_rate.tolist()

bar_list = plt.bar(x_pos, rank)
bar_list[country_list.index("South Korea")].set_color("r")
plt.ylabel('alcohol rate')
plt.title('liquor drink rank by contry')
plt.axis([0, 200, 0, 0.3])

korea_rank = country_list.index("South Korea")
korea_alc_rate = country_with_rank[country_with_rank['country'] == 'South Korea']['alcohol_rate'].values[0]
plt.annotate('South Korea : ' + str(korea_rank + 1), 
             xy = (korea_rank, korea_alc_rate + 0.05),
             arrowprops = dict(facecolor = 'red', shrink = 0.05))

plt.show()
```


    
![png](/assets/images/Book/3/output_29_0.png)
    


### í‘œë¡œ ì •ë¦¬í•˜ëŠ” ë°ì´í„° ë¶„ì„

|ë°ì´í„° íƒìƒ‰ ì§ˆë¬¸|í•µì‹¬ ë‚´ìš©|ì¸ì‚¬ì´íŠ¸|
|-|-|-|
|ê°ê°ì˜ í”¼ì²˜ëŠ” ì„œë¡œ ì–´ë–¤ ìƒê´€ ê´€ê³„ë¥¼ ê°€ì§€ê³  ìˆëŠ”ê°€?|ëª¨ë“  ì—°ì†í˜• í”¼ì²˜ì˜ ìƒê´€ ë¶„ì„|ëŒ€ë¶€ë¶„ì˜ êµ­ê°€ì˜ ì´ ì•Œì½”ì˜¬ ì†Œë¹„ëŸ‰ì€ ë§¥ì£¼ ì†Œë¹„ëŸ‰ì— ì˜í–¥ì„ ë°›ì„ í™•ë¥ ì´ ë†’ìŒ. ë˜í•œ ëŒ€ë¶€ë¶„ì˜ êµ­ê°€ì—ì„œëŠ” ë§¥ì£¼ê°€ ê°€ì¥ ë§ì´ ì†Œë¹„ë˜ëŠ” ìˆ ì´ë¼ëŠ” í•´ì„ë„ ê°€ëŠ¥í•¨.|
|í‰ê·  ë§¥ì£¼ ì†Œë¹„ëŸ‰ì´ ê°€ì¥ ë†’ì€ ëŒ€ë¥™ì€?|ëª¨ë“  í–‰ì„ ê·¸ë£¹ ë‹¨ìœ„ë¡œ ë¶„ì„|ìœ ëŸ½ì´ ê°€ì¥ ë§¥ì£¼ ì†Œë¹„ëŸ‰ì´ ë†’ìŒ. ëŒ€ë¥™ë³„ë¡œ ìƒì´í•œ ì°¨ì´ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•¨.|
|ìˆ  ì†Œë¹„ëŸ‰ ëŒ€ë¹„ ì•Œì½”ì˜¬ ë¹„ìœ¨ í”¼ì²˜ ìƒì„±í•˜ê¸°|ìƒˆë¡œìš´ ë¶„ì„ í”¼ì²˜ ìƒì„±|ìˆ  ì†Œë¹„ëŸ‰ ëŒ€ë¹„ ì•Œì½”ì˜¬ ë¹„ìœ¨ì´ë¼ëŠ” ìƒˆë¡œìš´ í”¼ì²˜ë¡œë¶€í„° ìˆ ì„ ë…í•˜ê²Œ ë§ˆì‹œëŠ” ì •ë„ì˜ êµ­ê°€ë³„ ì°¨ì´ë¥¼ ê´€ì°° ê°€ëŠ¥í•¨|
|ì•„í”„ë¦¬ì¹´ì™€ ìœ ëŸ½ ê°„ì˜ ë§¥ì£¼ ì†Œë¹„ëŸ‰ ì°¨ì´ ê²€ì •í•˜ê¸°|í†µê³„ì  ì°¨ì´ ê²€ì •|t-test ë¶„ì„ ê²°ê³¼, ì•„í”„ë¦¬ì¹´ì™€ ìœ ëŸ½ ê°„ì˜ ë§¥ì£¼ ì†Œë¹„ëŸ‰ì€ í†µê³„ì ìœ¼ë¡œ ìœ ì˜ë¯¸í•œ ì°¨ì´ë¥¼ ë³´ì„ (ë‹¨, ì´ ì˜ˆì œëŠ” ê·¸ë£¹ ê°„ì˜ ë°ì´í„° í¬ê¸°ê°€ ë§¤ìš° ë‹¤ë¥´ê³ , ì •ê·œë¶„í¬ë¥¼ ë¤ë‹¤ëŠ” ê°€ì •ì„ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì‹ ë¢°í•  ë§Œí•œ ì •ë³´ë¼ê³  í•  ìˆ˜ ì—†ìŒ.)|
