---

title: "[ì´ê²ƒì´ ë°ì´í„° ë¶„ì„ì´ë‹¤] í”„ë¡œì•¼êµ¬ ì„ ìˆ˜ì˜ ë‹¤ìŒ í•´ ì—°ë´‰ ì˜ˆì¸¡í•˜ê¸°"

categories: Books&Courses

tags: [Book, ì´ê²ƒì´_ë°ì´í„°_ë¶„ì„ì´ë‹¤, pandas, visualization, analysis, regression, regression_analysis]

---

## í”„ë¡œì•¼êµ¬ ì„ ìˆ˜ì˜ ë‹¤ìŒ í•´ ì—°ë´‰ ì˜ˆì¸¡í•˜ê¸° 

### ì˜ˆì œì— ë“¤ì–´ê°€ê¸° ì „ì— : íšŒê·€ë¶„ì„

ğŸ” **íšŒê·€ë¶„ì„**

![png](/assets/images/Book/4/1.png)

â–ª ìœ„ ê·¸ë˜í”„ì—ì„œ íšŒê·€ ë¶„ì„ì´ë€ ì‹¤ì œ ë°ì´í„° (ë¹¨ê°„ ì ë“¤)ì™€ ê±°ë¦¬ê°€ ìµœì†Œê°€ ë˜ëŠ” ë°©ì •ì‹(ì„ )ì„ ì°¾ì•„ë‚´ëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰, ë°©ì •ì‹ì˜ ê³„ìˆ˜ wì™€ bë¥¼ ì˜ ì •í•˜ëŠ” ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

â–ª ì•„ë˜ì˜ í‘œì—ì„œ 'ë‚˜ì´', 'ëª¸ë¬´ê²Œ' í”¼ì²˜ëŠ” ë°©ì •ì‹ì˜ X1, X2, ê·¸ë¦¬ê³  'í‚¤'ëŠ” ë°©ì •ì‹ì˜ Yë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì— X1ì˜ ì˜í–¥ë ¥ì„ ë‚˜íƒ€ë‚´ëŠ” w1, X2ì˜ ì˜í–¥ë ¥ì„ ë‚˜íƒ€ë‚´ëŠ” w2, ìƒìˆ˜ bë¥¼ ì‚¬ìš©í•˜ë©´ Y = w1X1 + w2X2 + bë¼ëŠ” ë°©ì •ì‹ì´ ì™„ì„±ë©ë‹ˆë‹¤. 

|Index|X1(ë‚˜ì´)|X2(ëª¸ë¬´ê²Œ)|Y(í‚¤)|
|-|-|-|-|
|1|23|65.3|175.5|
|2|14|32.5|141.0|
|3|17|71.1|166.4|
|4|18|63.3|???|

â–ª íšŒê·€ ë¶„ì„ì€ í‘œì˜ 1~3ë²ˆ ë°ì´í„° ê³„ìˆ˜ë¥¼ ì¶”ì •í•˜ëŠ” ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë°©ì •ì‹ì˜ ê³„ìˆ˜ë¥¼ ì¶”ì •í•˜ë©´ ì•„ì§ ì•Œë ¤ì§€ì§€ ì•Šì€ 4ë²ˆ ë°ì´í„°ì˜ í‚¤ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

â–ª ì—¬ê¸°ì„œ 1 ~ 3ë²ˆ ë°ì´í„°ëŠ” **í•™ìŠµ ì „ìš© ë°ì´í„°ì…‹**, ê·¸ë¦¬ê³  4ë²ˆ ë°ì´í„°ëŠ” **í…ŒìŠ¤íŠ¸ ì „ìš© ë°ì´í„°ì…‹**ì´ë¼ê³  í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ í•™ìŠµ ë°©ì‹ì„ **ì§€ë„í•™ìŠµ**ì´ë¼ê³  í•©ë‹ˆë‹¤. 

### íƒìƒ‰ : í”„ë¡œì•¼êµ¬ ì—°ë´‰ ë°ì´í„° ì‚´í´ë³´ê¸°

ğŸ” **í”„ë¡œì•¼êµ¬ ì—°ë´‰ ë°ì´í„°ì…‹ì˜ ê¸°ë³¸ ì •ë³´ êµ¬í•˜ê¸°**


```python
import matplotlib.pyplot as plt
import matplotlib.font_manager as fm
import platform

# ìœˆë„ìš°ìš© í•œê¸€ í°íŠ¸ ì„¤ì •
if platform.system() == 'Windows':
    plt.rcParams['font.family'] = 'Malgun Gothic'  # ë˜ëŠ” 'ë§‘ì€ ê³ ë”•'

# ë§ˆì´ë„ˆìŠ¤ ê¸°í˜¸ ê¹¨ì§ ë°©ì§€
plt.rcParams['axes.unicode_minus'] = False
```


```python
# -*- coding : utf-8 -*- 
%matplotlib inline

import pandas as pd 
import numpy as np 
import matplotlib.pyplot as plt 

picher_file_path = './data/picher_stats_2017.csv'
batter_file_path = './data/batter_stats_2017.csv'
picher = pd.read_csv(picher_file_path)
batter = pd.read_csv(batter_file_path)

picher.columns
```




    Index(['ì„ ìˆ˜ëª…', 'íŒ€ëª…', 'ìŠ¹', 'íŒ¨', 'ì„¸', 'í™€ë“œ', 'ë¸”ë¡ ', 'ê²½ê¸°', 'ì„ ë°œ', 'ì´ë‹', 'ì‚¼ì§„/9',
           'ë³¼ë„·/9', 'í™ˆëŸ°/9', 'BABIP', 'LOB%', 'ERA', 'RA9-WAR', 'FIP', 'kFIP', 'WAR',
           'ì—°ë´‰(2018)', 'ì—°ë´‰(2017)'],
          dtype='object')




```python
picher.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ì„ ìˆ˜ëª…</th>
      <th>íŒ€ëª…</th>
      <th>ìŠ¹</th>
      <th>íŒ¨</th>
      <th>ì„¸</th>
      <th>í™€ë“œ</th>
      <th>ë¸”ë¡ </th>
      <th>ê²½ê¸°</th>
      <th>ì„ ë°œ</th>
      <th>ì´ë‹</th>
      <th>...</th>
      <th>í™ˆëŸ°/9</th>
      <th>BABIP</th>
      <th>LOB%</th>
      <th>ERA</th>
      <th>RA9-WAR</th>
      <th>FIP</th>
      <th>kFIP</th>
      <th>WAR</th>
      <th>ì—°ë´‰(2018)</th>
      <th>ì—°ë´‰(2017)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ì¼ˆë¦¬</td>
      <td>SK</td>
      <td>16</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>30</td>
      <td>30</td>
      <td>190.0</td>
      <td>...</td>
      <td>0.76</td>
      <td>0.342</td>
      <td>73.7</td>
      <td>3.60</td>
      <td>6.91</td>
      <td>3.69</td>
      <td>3.44</td>
      <td>6.62</td>
      <td>140000</td>
      <td>85000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ì†Œì‚¬</td>
      <td>LG</td>
      <td>11</td>
      <td>11</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>30</td>
      <td>29</td>
      <td>185.1</td>
      <td>...</td>
      <td>0.53</td>
      <td>0.319</td>
      <td>67.1</td>
      <td>3.88</td>
      <td>6.80</td>
      <td>3.52</td>
      <td>3.41</td>
      <td>6.08</td>
      <td>120000</td>
      <td>50000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ì–‘í˜„ì¢…</td>
      <td>KIA</td>
      <td>20</td>
      <td>6</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31</td>
      <td>31</td>
      <td>193.1</td>
      <td>...</td>
      <td>0.79</td>
      <td>0.332</td>
      <td>72.1</td>
      <td>3.44</td>
      <td>6.54</td>
      <td>3.94</td>
      <td>3.82</td>
      <td>5.64</td>
      <td>230000</td>
      <td>150000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ì°¨ìš°ì°¬</td>
      <td>LG</td>
      <td>10</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>28</td>
      <td>28</td>
      <td>175.2</td>
      <td>...</td>
      <td>1.02</td>
      <td>0.298</td>
      <td>75.0</td>
      <td>3.43</td>
      <td>6.11</td>
      <td>4.20</td>
      <td>4.03</td>
      <td>4.63</td>
      <td>100000</td>
      <td>100000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ë ˆì¼ë¦¬</td>
      <td>ë¡¯ë°</td>
      <td>13</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>30</td>
      <td>30</td>
      <td>187.1</td>
      <td>...</td>
      <td>0.91</td>
      <td>0.323</td>
      <td>74.1</td>
      <td>3.80</td>
      <td>6.13</td>
      <td>4.36</td>
      <td>4.31</td>
      <td>4.38</td>
      <td>111000</td>
      <td>85000</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 22 columns</p>
</div>




```python
picher.shape
```




    (152, 22)



ğŸ” **ìƒì ê·¸ë¦¼(Box Plot)**

â–ª ìƒì ê·¸ë¦¼ì€ ë°ì´í„°ì˜ ì‚¬ë¶„ìœ„ê°’ íŠ¹ì„±ì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ì˜ ë¶„í¬ë¥¼ íŒŒì•…í•˜ëŠ” ê·¸ë¦¼ í‘œí˜„ ë°©ë²•ì…ë‹ˆë‹¤. ê·¸ë¦¼ ê°€ìš´ë°ì˜ Q2ëŠ” ë°ì´í„°ì˜ ì¤‘ì•™ê°’ì„ ì˜ë¯¸í•˜ë©°, ë°•ìŠ¤ ëª¨ì–‘ì˜ ìœ„(Q1) ì•„ë˜(Q3) ë¶€ë¶„ì€ ê°ê° ë°ì´í„°ì—ì„œ 20%, 75%ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë°•ìŠ¤ ë°”ê¹¥ ìœ„ìª½ì˜ ì ì„ ì€ Q1ì— 1.5 * IQRì˜ ê°’ì„ ë”í•œ ìœ„ì¹˜ì´ë©° ë°•ìŠ¤ ë°”ê¹¥ ì•„ë˜ìª½ ì ì„ ì€ Q3ì— 1.5 * IQRì„ ëº€ ìœ„ì¹˜ì…ë‹ˆë‹¤. ì´ ë‘ ì ì„ ì„ ìœ„ìª½ ì•ˆ ìš¸íƒ€ë¦¬ì™€ ì•„ë˜ìª½ ì•ˆ ìš¸íƒ€ë¦¬ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. matplotlibë¡œ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” ìƒì ê·¸ë¦¼ì—ì„œëŠ” ì•ˆ ìš¸íƒ€ë¦¬ ë‚´ì˜ ìµœì†Œê°’ê³¼ ìµœëŒ€ê°’ì„ ì§ì„ ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì•ˆ ìš¸íƒ€ë¦¬ë¥¼ ë²—ì–´ë‚œ ë°ì´í„°ëŠ” ì ì˜ í˜•íƒœë¡œ í‘œí˜„í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì ìœ¼ë¡œ í‘œí˜„ëœ ë°ì´í„°ëŠ” ì¼ë°˜ì ì¸ ë²”ì£¼ë¥¼ ì¡°ê¸ˆ ë²—ì–´ë‚˜ëŠ” ë°ì´í„°ë¡œ ì¸ì‹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

![png](/assets/images/Book/4/2.png)

ğŸ” **ì˜ˆì¸¡í•  ëŒ€ìƒì¸ 'ì—°ë´‰'ì— ëŒ€í•œ ì •ë³´**


```python
picher['ì—°ë´‰(2018)'].describe()
```




    count       152.000000
    mean      18932.236842
    std       30940.732924
    min        2700.000000
    25%        4000.000000
    50%        7550.000000
    75%       18500.000000
    max      230000.000000
    Name: ì—°ë´‰(2018), dtype: float64




```python
picher['ì—°ë´‰(2018)'].hist(bins = 100) # 2018ë…„ ì—°ë´‰ ë¶„í¬ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
# ë‹¨ìœ„ëŠ” ë§Œì› (10,000ì›)
```




    <Axes: >




    
![png](/assets/images/Book/4/output_7_1.png)
    



```python
picher.boxplot(column = ['ì—°ë´‰(2018)']) # ì—°ë´‰ì˜ ìƒì ê·¸ë¦¬ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
```




    <Axes: >




    
![png](/assets/images/Book/4/output_8_1.png)
    


ğŸ” **íšŒê·€ ë¶„ì„ì— ì‚¬ìš©í•  í”¼ì²˜ ì‚´í´ë³´ê¸°**


```python
picher.columns
```




    Index(['ì„ ìˆ˜ëª…', 'íŒ€ëª…', 'ìŠ¹', 'íŒ¨', 'ì„¸', 'í™€ë“œ', 'ë¸”ë¡ ', 'ê²½ê¸°', 'ì„ ë°œ', 'ì´ë‹', 'ì‚¼ì§„/9',
           'ë³¼ë„·/9', 'í™ˆëŸ°/9', 'BABIP', 'LOB%', 'ERA', 'RA9-WAR', 'FIP', 'kFIP', 'WAR',
           'ì—°ë´‰(2018)', 'ì—°ë´‰(2017)'],
          dtype='object')




```python
picher_features_df = picher.copy()
picher_features_df = picher_features_df.drop(['ì„ ìˆ˜ëª…', 'íŒ€ëª…'], axis = 1)

# í”¼ì²˜ ê°ê°ì— ëŒ€í•œ íˆìŠ¤í† ê·¸ë¨ì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
def plot_hist_each_column(df) : 
    plt.rcParams['figure.figsize'] = [20, 16]
    fig = plt.figure(1)
    # dfì˜ ì—´ ê°œìˆ˜ ë§Œí¼ì˜ subplotì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
    for i in range(len(df.columns)) : 
        ax = fig.add_subplot(5, 5, i + 1)
        plt.hist(df[df.columns[i]], bins = 50)
        ax.set_title(df.columns[i])
    plt.show()
    
plot_hist_each_column(picher_features_df)
```


    
![png](/assets/images/Book/4/output_11_0.png)
    


ğŸ” **í”¼ì²˜ì˜ ì •ê·œí™”**

â–ª í”¼ì²˜ì˜ ì •ê·œí™”ëŠ” ì¢ì€ ì˜ë¯¸ë¡œ **í”¼ì²˜ ìŠ¤ì¼€ì¼ë§(Feature Scaling)** ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë§Œì•½ 'í‚¤'ì™€ 'ëª¸ë¬´ê²Œ'ë¼ëŠ” 2ê°œì˜ í”¼ì²˜ë¡œ ë‚˜ì´ë¥¼ ì˜ˆì¸¡í•˜ëŠ” íšŒê·€ ë¶„ì„ì„ í•œë‹¤ê³  í•  ë•Œ, íšŒê·€ ë¶„ì„ì€ 'í‚¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜'ì— ì˜í•´ ë” í° ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°™ì€ ë‹¨ìœ„ë¼ë©´ ëª¸ë¬´ê²Œë³´ë‹¤ëŠ” í‚¤ì˜ ê°’ì´ ë” í¬ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í”¼ì²˜ë“¤ì˜ ë‹¨ìœ„ë¥¼ 0 ~ 1 ì‚¬ì´, í˜¹ì€ ìƒëŒ€ì  ê°’ì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¹˜ë¡œ ë§ì¶°ì£¼ëŠ” ê²ƒì´ í”¼ì²˜ ìŠ¤ì¼€ì¼ë§ì…ë‹ˆë‹¤. ì „ì²´ ë°ì´í„° ë‚´ì—ì„œì˜ ìƒëŒ€ì ì¸ ê³„ì‚°ì„ í†µí•´ 150~180ì´ì—ˆë˜ í‚¤ë¥¼ 0 ~ 1 ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ í‘œí˜„í•˜ê³  ëª¸ë¬´ê²Œë„ 0 ~ 1 ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì„ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

### ì˜ˆì¸¡ : íˆ¬ìˆ˜ì˜ ì—°ë´‰ ì˜ˆì¸¡í•˜ê¸°

ğŸ” **í”¼ì²˜ë“¤ì˜ ë‹¨ìœ„ ë§ì¶°ì£¼ê¸° : í”¼ì²˜ ìŠ¤ì¼€ì¼ë§**

<span style="color:red">
[Tip] z-ê°’ì€ ((X) - (Xì˜ í‰ê· ))/Xì˜ í‘œì¤€í¸ì°¨ë¡œ êµ¬í•©ë‹ˆë‹¤.
</span>


```python
# íŒë‹¤ìŠ¤ í˜•íƒœë¡œ ì •ì˜ëœ ë°ì´í„°ë¥¼ ì¶œë ¥í•  ë•Œ scientific-notationì´ ì•„ë‹Œ float ëª¨ì–‘ìœ¼ë¡œ ì¶œë ¥ë˜ê²Œ í•´ì¤ë‹ˆë‹¤. 
pd.options.mode.chained_assignment = None 

# í”¼ì²˜ ê°ê°ì— ëŒ€í•œ ìŠ¤ì¼€ì¼ë§ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. 
def standard_scaling(df, scale_columns) : 
    for col in scale_columns : 
        series_mean = df[col].mean()
        series_std = df[col].std()
        df[col] = df[col].apply(lambda x : (x - series_mean) / series_std)
    return df

# í”¼ì²˜ ê°ê°ì— ëŒ€í•œ ìŠ¤ì¼€ì¼ë§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
scale_columns = picher.columns[2:]
scale_columns = scale_columns.drop('ì—°ë´‰(2018)')
picher_df = standard_scaling(picher, scale_columns)
picher_df = picher_df.rename(columns = {'ì—°ë´‰(2018)' : 'y'})
picher_df.head(5)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ì„ ìˆ˜ëª…</th>
      <th>íŒ€ëª…</th>
      <th>ìŠ¹</th>
      <th>íŒ¨</th>
      <th>ì„¸</th>
      <th>í™€ë“œ</th>
      <th>ë¸”ë¡ </th>
      <th>ê²½ê¸°</th>
      <th>ì„ ë°œ</th>
      <th>ì´ë‹</th>
      <th>...</th>
      <th>í™ˆëŸ°/9</th>
      <th>BABIP</th>
      <th>LOB%</th>
      <th>ERA</th>
      <th>RA9-WAR</th>
      <th>FIP</th>
      <th>kFIP</th>
      <th>WAR</th>
      <th>y</th>
      <th>ì—°ë´‰(2017)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ì¼ˆë¦¬</td>
      <td>SK</td>
      <td>3.313623</td>
      <td>1.227145</td>
      <td>-0.306452</td>
      <td>-0.585705</td>
      <td>-0.543592</td>
      <td>0.059433</td>
      <td>2.452068</td>
      <td>2.645175</td>
      <td>...</td>
      <td>-0.442382</td>
      <td>0.016783</td>
      <td>0.446615</td>
      <td>-0.587056</td>
      <td>3.174630</td>
      <td>-0.971030</td>
      <td>-1.058125</td>
      <td>4.503142</td>
      <td>140000</td>
      <td>2.734705</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ì†Œì‚¬</td>
      <td>LG</td>
      <td>2.019505</td>
      <td>2.504721</td>
      <td>-0.098502</td>
      <td>-0.585705</td>
      <td>-0.543592</td>
      <td>0.059433</td>
      <td>2.349505</td>
      <td>2.547755</td>
      <td>...</td>
      <td>-0.668521</td>
      <td>-0.241686</td>
      <td>-0.122764</td>
      <td>-0.519855</td>
      <td>3.114968</td>
      <td>-1.061888</td>
      <td>-1.073265</td>
      <td>4.094734</td>
      <td>120000</td>
      <td>1.337303</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ì–‘í˜„ì¢…</td>
      <td>KIA</td>
      <td>4.348918</td>
      <td>0.907751</td>
      <td>-0.306452</td>
      <td>-0.585705</td>
      <td>-0.543592</td>
      <td>0.111056</td>
      <td>2.554632</td>
      <td>2.706808</td>
      <td>...</td>
      <td>-0.412886</td>
      <td>-0.095595</td>
      <td>0.308584</td>
      <td>-0.625456</td>
      <td>2.973948</td>
      <td>-0.837415</td>
      <td>-0.866361</td>
      <td>3.761956</td>
      <td>230000</td>
      <td>5.329881</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ì°¨ìš°ì°¬</td>
      <td>LG</td>
      <td>1.760682</td>
      <td>1.227145</td>
      <td>-0.306452</td>
      <td>-0.585705</td>
      <td>-0.543592</td>
      <td>-0.043811</td>
      <td>2.246942</td>
      <td>2.350927</td>
      <td>...</td>
      <td>-0.186746</td>
      <td>-0.477680</td>
      <td>0.558765</td>
      <td>-0.627856</td>
      <td>2.740722</td>
      <td>-0.698455</td>
      <td>-0.760385</td>
      <td>2.998081</td>
      <td>100000</td>
      <td>3.333592</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ë ˆì¼ë¦¬</td>
      <td>ë¡¯ë°</td>
      <td>2.537153</td>
      <td>1.227145</td>
      <td>-0.306452</td>
      <td>-0.585705</td>
      <td>-0.543592</td>
      <td>0.059433</td>
      <td>2.452068</td>
      <td>2.587518</td>
      <td>...</td>
      <td>-0.294900</td>
      <td>-0.196735</td>
      <td>0.481122</td>
      <td>-0.539055</td>
      <td>2.751570</td>
      <td>-0.612941</td>
      <td>-0.619085</td>
      <td>2.809003</td>
      <td>111000</td>
      <td>2.734705</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 22 columns</p>
</div>



ğŸ” **ì›-í•« ì¸ì½”ë”©(One-Hot Encoding)**

â–ª [0.2, 1.2, 100, ...] ê°™ì€ ì—°ì†í˜• í”¼ì²˜ëŠ” ì»´í“¨í„°ê°€ ê³„ì‚°í•  ìˆ˜ ìˆëŠ” í˜•íƒœì…ë‹ˆë‹¤. í•˜ì§€ë§Œ 'ê³¼ì¼ ì¢…ë¥˜'ê°™ì€ ë²”ì£¼í˜• í”¼ì²˜ëŠ” ì»´í“¨í„°ê°€ ê³„ì‚°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ í”¼ì²˜ë¥¼ ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë°”ê¿”ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ê°€ì¥ ëŒ€í‘œì ì¸ ë³€í™˜ ë°©ì‹ì€ ì›-í•« ì¸ì½”ë”©ì…ë‹ˆë‹¤. ë§Œì•½ 'ê³¼ì¼ ì¢…ë¥˜'ë¼ëŠ” ì ì£¼ê°€ 5ê°œë¼ë©´ ì•„ë˜ì˜ ê·¸ë¦¼ ê°™ì€ 5ê°œì˜ ë²¡í„°ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

![png](/assets/images/Book/4/3.png)

ğŸ” **í”¼ì²˜ë“¤ì˜ ë‹¨ìœ„ ë§ì¶°ì£¼ê¸° : ì›-í•« ì¸ì½”ë”©**


```python
# íŒ€ëª… í”¼ì²˜ë¥¼ ì›-í•« ì¸ì½”ë”©ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. 
team_encoding = pd.get_dummies(picher_df['íŒ€ëª…'], dtype = int)
picher_df = picher_df.drop('íŒ€ëª…', axis = 1)
picher_df = picher_df.join(team_encoding)
team_encoding.head(5)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>KIA</th>
      <th>KT</th>
      <th>LG</th>
      <th>NC</th>
      <th>SK</th>
      <th>ë‘ì‚°</th>
      <th>ë¡¯ë°</th>
      <th>ì‚¼ì„±</th>
      <th>í•œí™”</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ” **íšŒê·€ ë¶„ì„ì„ ìœ„í•œ í•™ìŠµ, í…ŒìŠ¤íŠ¸ ë°ì´í„°ì…‹ ë¶„ë¦¬**


```python
from sklearn import linear_model 
from sklearn.model_selection import train_test_split 
from sklearn.metrics import mean_squared_error
from math import sqrt 

# í•™ìŠµ í…Œì´í„°ì™€ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤. 
X = picher_df[picher_df.columns.difference(['ì„ ìˆ˜ëª…', 'y'])]
y = picher_df['y']
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 19)
```

ğŸ” **íšŒê·€ ë¶„ì„ ê³„ìˆ˜ í•™ìŠµ & í•™ìŠµëœ ê³„ìˆ˜ ì¶œë ¥**


```python
# íšŒê·€ ë¶„ì„ ê³„ìˆ˜ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤. (íšŒê·€ ëª¨ë¸ í•™ìŠµ)
lr = linear_model.LinearRegression()
model = lr.fit(X_train, y_train)

# í•™ìŠµëœ ê³„ìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
print(lr.coef_)
```

    [ -1481.01733901   -416.68736601 -94136.23649209  -1560.86205158
       1572.00472193   -747.04952389  -1375.53830289   -523.54687556
       3959.10653661    898.37638984  10272.48746451  77672.53804469
      -2434.38947427   -892.11801281    449.91117164   7612.15661812
       1271.04500059  -2810.55645139   5396.97279896  -4797.30275904
       -250.69773139    236.02530053  19130.59021357    854.02604585
       1301.61974637   3613.84063182   -935.07281796  18144.60099745]
    

### í‰ê°€ : ì˜ˆì¸¡ ëª¨ë¸ í‰ê°€í•˜ê¸° 

ğŸ” **ì–´ë–¤ í”¼ì²˜ê°€ ê°€ì¥ ì˜í–¥ë ¥ì´ ê°•í•œ í”¼ì²˜ì¼ê¹Œ**


```python
import statsmodels.api as sm 

# statsmodel ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íšŒê·€ ë¶„ì„ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
X_train = sm.add_constant(X_train)
model = sm.OLS(y_train, X_train).fit()
model.summary()
```




<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>            <td>y</td>        <th>  R-squared:         </th> <td>   0.928</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.907</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   44.19</td>
</tr>
<tr>
  <th>Date:</th>             <td>Tue, 13 May 2025</td> <th>  Prob (F-statistic):</th> <td>7.70e-42</td>
</tr>
<tr>
  <th>Time:</th>                 <td>14:39:58</td>     <th>  Log-Likelihood:    </th> <td> -1247.8</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   121</td>      <th>  AIC:               </th> <td>   2552.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>    93</td>      <th>  BIC:               </th> <td>   2630.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    27</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>        <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>    <td> 1.678e+04</td> <td>  697.967</td> <td>   24.036</td> <td> 0.000</td> <td> 1.54e+04</td> <td> 1.82e+04</td>
</tr>
<tr>
  <th>BABIP</th>    <td>-1481.0173</td> <td> 1293.397</td> <td>   -1.145</td> <td> 0.255</td> <td>-4049.448</td> <td> 1087.414</td>
</tr>
<tr>
  <th>ERA</th>      <td> -416.6874</td> <td> 2322.402</td> <td>   -0.179</td> <td> 0.858</td> <td>-5028.517</td> <td> 4195.143</td>
</tr>
<tr>
  <th>FIP</th>      <td>-9.414e+04</td> <td> 9.43e+04</td> <td>   -0.998</td> <td> 0.321</td> <td>-2.81e+05</td> <td> 9.31e+04</td>
</tr>
<tr>
  <th>KIA</th>      <td>  303.1852</td> <td> 2222.099</td> <td>    0.136</td> <td> 0.892</td> <td>-4109.462</td> <td> 4715.833</td>
</tr>
<tr>
  <th>KT</th>       <td> 3436.0520</td> <td> 2133.084</td> <td>    1.611</td> <td> 0.111</td> <td> -799.831</td> <td> 7671.935</td>
</tr>
<tr>
  <th>LG</th>       <td> 1116.9978</td> <td> 2403.317</td> <td>    0.465</td> <td> 0.643</td> <td>-3655.513</td> <td> 5889.509</td>
</tr>
<tr>
  <th>LOB%</th>     <td>-1375.5383</td> <td> 1564.806</td> <td>   -0.879</td> <td> 0.382</td> <td>-4482.933</td> <td> 1731.857</td>
</tr>
<tr>
  <th>NC</th>       <td> 1340.5004</td> <td> 2660.966</td> <td>    0.504</td> <td> 0.616</td> <td>-3943.651</td> <td> 6624.652</td>
</tr>
<tr>
  <th>RA9-WAR</th>  <td> 3959.1065</td> <td> 2931.488</td> <td>    1.351</td> <td> 0.180</td> <td>-1862.247</td> <td> 9780.460</td>
</tr>
<tr>
  <th>SK</th>       <td> 2762.4237</td> <td> 2243.540</td> <td>    1.231</td> <td> 0.221</td> <td>-1692.803</td> <td> 7217.650</td>
</tr>
<tr>
  <th>WAR</th>      <td> 1.027e+04</td> <td> 2532.309</td> <td>    4.057</td> <td> 0.000</td> <td> 5243.823</td> <td> 1.53e+04</td>
</tr>
<tr>
  <th>kFIP</th>     <td> 7.767e+04</td> <td> 7.95e+04</td> <td>    0.977</td> <td> 0.331</td> <td>-8.03e+04</td> <td> 2.36e+05</td>
</tr>
<tr>
  <th>ê²½ê¸°</th>       <td>-2434.3895</td> <td> 2953.530</td> <td>   -0.824</td> <td> 0.412</td> <td>-8299.515</td> <td> 3430.736</td>
</tr>
<tr>
  <th>ë‘ì‚°</th>       <td>  971.9293</td> <td> 2589.849</td> <td>    0.375</td> <td> 0.708</td> <td>-4170.998</td> <td> 6114.857</td>
</tr>
<tr>
  <th>ë¡¯ë°</th>       <td> 2313.9585</td> <td> 2566.009</td> <td>    0.902</td> <td> 0.370</td> <td>-2781.627</td> <td> 7409.544</td>
</tr>
<tr>
  <th>ë³¼ë„·/9</th>     <td> 7612.1566</td> <td> 6275.338</td> <td>    1.213</td> <td> 0.228</td> <td>-4849.421</td> <td> 2.01e+04</td>
</tr>
<tr>
  <th>ë¸”ë¡ </th>       <td> 1271.0450</td> <td> 1242.128</td> <td>    1.023</td> <td> 0.309</td> <td>-1195.576</td> <td> 3737.666</td>
</tr>
<tr>
  <th>ì‚¼ì„±</th>       <td> -946.5092</td> <td> 2482.257</td> <td>   -0.381</td> <td> 0.704</td> <td>-5875.780</td> <td> 3982.762</td>
</tr>
<tr>
  <th>ì‚¼ì§„/9</th>     <td> 5396.9728</td> <td> 7286.221</td> <td>    0.741</td> <td> 0.461</td> <td>-9072.019</td> <td> 1.99e+04</td>
</tr>
<tr>
  <th>ì„ ë°œ</th>       <td>-4797.3028</td> <td> 5489.352</td> <td>   -0.874</td> <td> 0.384</td> <td>-1.57e+04</td> <td> 6103.463</td>
</tr>
<tr>
  <th>ì„¸</th>        <td> -250.6977</td> <td> 1295.377</td> <td>   -0.194</td> <td> 0.847</td> <td>-2823.059</td> <td> 2321.663</td>
</tr>
<tr>
  <th>ìŠ¹</th>        <td>  236.0253</td> <td> 2215.264</td> <td>    0.107</td> <td> 0.915</td> <td>-4163.049</td> <td> 4635.100</td>
</tr>
<tr>
  <th>ì—°ë´‰(2017)</th> <td> 1.913e+04</td> <td> 1270.754</td> <td>   15.055</td> <td> 0.000</td> <td> 1.66e+04</td> <td> 2.17e+04</td>
</tr>
<tr>
  <th>ì´ë‹</th>       <td>  854.0260</td> <td> 6623.940</td> <td>    0.129</td> <td> 0.898</td> <td>-1.23e+04</td> <td>  1.4e+04</td>
</tr>
<tr>
  <th>íŒ¨</th>        <td> 1301.6197</td> <td> 1935.935</td> <td>    0.672</td> <td> 0.503</td> <td>-2542.763</td> <td> 5146.003</td>
</tr>
<tr>
  <th>í•œí™”</th>       <td> 5477.8879</td> <td> 2184.273</td> <td>    2.508</td> <td> 0.014</td> <td> 1140.355</td> <td> 9815.421</td>
</tr>
<tr>
  <th>í™€ë“œ</th>       <td> -935.0728</td> <td> 1637.923</td> <td>   -0.571</td> <td> 0.569</td> <td>-4187.663</td> <td> 2317.518</td>
</tr>
<tr>
  <th>í™ˆëŸ°/9</th>     <td> 1.814e+04</td> <td> 1.68e+04</td> <td>    1.082</td> <td> 0.282</td> <td>-1.52e+04</td> <td> 5.14e+04</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>28.069</td> <th>  Durbin-Watson:     </th> <td>   2.025</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td> 194.274</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.405</td> <th>  Prob(JB):          </th> <td>6.52e-43</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 9.155</td> <th>  Cond. No.          </th> <td>3.56e+16</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The smallest eigenvalue is 6.27e-31. This might indicate that there are<br/>strong multicollinearity problems or that the design matrix is singular.



ğŸ” **ì–´ë–¤ í”¼ì²˜ê°€ ê°€ì¥ ì˜í–¥ë ¥ì´ ê°•í•œ í”¼ì²˜ì¼ê¹Œ**


```python
plt.rcParams['figure.figsize'] = [20, 16]

# íšŒê·€ ê³„ìˆ˜ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. 
coefs = model.params.tolist()
coefs_series = pd.Series(coefs)

# ë³€ìˆ˜ëª…ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. 
x_labels = model.params.index.tolist()

# íšŒê·€ ê³„ìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
ax = coefs_series.plot(kind = 'bar')
ax.set_title('feature_coef_graph')
ax.set_xlabel('x_features')
ax.set_ylabel('coef')
ax.set_xticklabels(x_labels)
```




    [Text(0, 0, 'const'),
     Text(1, 0, 'BABIP'),
     Text(2, 0, 'ERA'),
     Text(3, 0, 'FIP'),
     Text(4, 0, 'KIA'),
     Text(5, 0, 'KT'),
     Text(6, 0, 'LG'),
     Text(7, 0, 'LOB%'),
     Text(8, 0, 'NC'),
     Text(9, 0, 'RA9-WAR'),
     Text(10, 0, 'SK'),
     Text(11, 0, 'WAR'),
     Text(12, 0, 'kFIP'),
     Text(13, 0, 'ê²½ê¸°'),
     Text(14, 0, 'ë‘ì‚°'),
     Text(15, 0, 'ë¡¯ë°'),
     Text(16, 0, 'ë³¼ë„·/9'),
     Text(17, 0, 'ë¸”ë¡ '),
     Text(18, 0, 'ì‚¼ì„±'),
     Text(19, 0, 'ì‚¼ì§„/9'),
     Text(20, 0, 'ì„ ë°œ'),
     Text(21, 0, 'ì„¸'),
     Text(22, 0, 'ìŠ¹'),
     Text(23, 0, 'ì—°ë´‰(2017)'),
     Text(24, 0, 'ì´ë‹'),
     Text(25, 0, 'íŒ¨'),
     Text(26, 0, 'í•œí™”'),
     Text(27, 0, 'í™€ë“œ'),
     Text(28, 0, 'í™ˆëŸ°/9')]




    
![png](/assets/images/Book/4/output_23_1.png)
    


ğŸ” **ì˜ˆì¸¡ ëª¨ë¸ì˜ í‰ê°€í•˜ê¸° : R2 score**


```python
# í•™ìŠµ ë°ì´í„°ì™€ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤. 
X = picher_df[picher_df.columns.difference(['ì„ ìˆ˜ëª…', 'y'])]
y = picher_df['y']
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 19)

# íšŒê·€ ë¶„ì„ ëª¨ë¸ì„ í•™ìŠµí•©ë‹ˆë‹¤. 
lr = linear_model.LinearRegression()
model = lr.fit(X_train, y_train)

# íšŒê·€ ë¶„ì„ ëª¨ë¸ì„ í‰ê°€í•©ë‹ˆë‹¤. 
print(model.score(X_train, y_train)) # train R2 scoreë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
print(model.score(X_test, y_test)) # test R2 scroeë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
```

    0.9276949405576705
    0.8860171644977817
    

ğŸ” **ì˜ˆì¸¡ ëª¨ë¸ì˜ í‰ê°€í•˜ê¸° : RMSE score**


```python
# íšŒê·€ ë¶„ì„ ëª¨ë¸ì„ í‰ê°€í•©ë‹ˆë‹¤. 
y_predictions = lr.predict(X_train)
print(sqrt(mean_squared_error(y_train, y_predictions))) # train RMSE scoreë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 

y_predictions = lr.predict(X_test)
print(sqrt(mean_squared_error(y_test, y_predictions))) # test RMSE scoreë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
```

    7282.718684746372
    14310.696436889137
    

ğŸ” **í”¼ì²˜ë“¤ì˜ ìƒê´€ ê´€ê³„ ë¶„ì„í•˜ê¸°**


```python
import seaborn as sns 

# í”¼ì²˜ ê°„ì˜ ìƒê´€ê³„ìˆ˜ í–‰ë ¬ì„ ê³„ì‚°í•©ë‹ˆë‹¤. 
corr = picher_df[scale_columns].corr(method = 'pearson')
show_cols = ['win', 'lose', 'save', 'hold', 'blon', 'match', 'start', 'inning', 'strike3', 'ball4', 'homerun', 'BABIP', 
            'LOB', 'ERA', 'RA9-WAR', 'FIP', 'kFIP', 'WAR', '2017']

# corr í–‰ë ¬ íˆíŠ¸ë§µì„ ì‹œê°í™”í•©ë‹ˆë‹¤. 
sns.set(font_scale = 1.5)
hm = sns.heatmap(corr.values, 
                cbar = True, 
                annot = True, 
                square = True, 
                fmt = '.2f', 
                annot_kws = {'size' : 15}, 
                yticklabels = show_cols, 
                xticklabels = show_cols)

plt.tight_layout()
plt.show()
```


    
![png](/assets/images/Book/4/output_29_0.png)
    


ğŸ” **íšŒê·€ ë¶„ì„ ì˜ˆì¸¡ ì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•œ ë°©ë²• : ë‹¤ì¤‘ ê³µì„ ì„± í™•ì¸**


```python
from statsmodels.stats.outliers_influence import variance_inflation_factor

# í”¼ì²˜ë§ˆë‹¤ VIF ê³„ìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
vif = pd.DataFrame()
vif["VIF Factor"] = [variance_inflation_factor(X.values, i) for i in range(X.shape[1])]
vif["features"] = X.columns
vif.round(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIF Factor</th>
      <th>features</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3.2</td>
      <td>BABIP</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10.6</td>
      <td>ERA</td>
    </tr>
    <tr>
      <th>2</th>
      <td>14238.3</td>
      <td>FIP</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.1</td>
      <td>KIA</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.1</td>
      <td>KT</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.1</td>
      <td>LG</td>
    </tr>
    <tr>
      <th>6</th>
      <td>4.3</td>
      <td>LOB%</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1.1</td>
      <td>NC</td>
    </tr>
    <tr>
      <th>8</th>
      <td>13.6</td>
      <td>RA9-WAR</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1.1</td>
      <td>SK</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10.4</td>
      <td>WAR</td>
    </tr>
    <tr>
      <th>11</th>
      <td>10264.1</td>
      <td>kFIP</td>
    </tr>
    <tr>
      <th>12</th>
      <td>14.6</td>
      <td>ê²½ê¸°</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1.2</td>
      <td>ë‘ì‚°</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1.1</td>
      <td>ë¡¯ë°</td>
    </tr>
    <tr>
      <th>15</th>
      <td>57.8</td>
      <td>ë³¼ë„·/9</td>
    </tr>
    <tr>
      <th>16</th>
      <td>3.0</td>
      <td>ë¸”ë¡ </td>
    </tr>
    <tr>
      <th>17</th>
      <td>1.2</td>
      <td>ì‚¼ì„±</td>
    </tr>
    <tr>
      <th>18</th>
      <td>89.5</td>
      <td>ì‚¼ì§„/9</td>
    </tr>
    <tr>
      <th>19</th>
      <td>39.6</td>
      <td>ì„ ë°œ</td>
    </tr>
    <tr>
      <th>20</th>
      <td>3.1</td>
      <td>ì„¸</td>
    </tr>
    <tr>
      <th>21</th>
      <td>8.0</td>
      <td>ìŠ¹</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2.5</td>
      <td>ì—°ë´‰(2017)</td>
    </tr>
    <tr>
      <th>23</th>
      <td>63.8</td>
      <td>ì´ë‹</td>
    </tr>
    <tr>
      <th>24</th>
      <td>5.9</td>
      <td>íŒ¨</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1.1</td>
      <td>í•œí™”</td>
    </tr>
    <tr>
      <th>26</th>
      <td>3.8</td>
      <td>í™€ë“œ</td>
    </tr>
    <tr>
      <th>27</th>
      <td>425.6</td>
      <td>í™ˆëŸ°/9</td>
    </tr>
  </tbody>
</table>
</div>



### ì‹œê°í™” : ë¶„ì„ ê²°ê³¼ ì‹œê°í™”í•˜ê¸°

ğŸ” **ì˜ˆì¸¡ì—°ë´‰ê³¼ ì‹¤ì œì—°ë´‰ ë¹„êµí•˜ê¸°**


```python
picher_df.columns
```




    Index(['ì„ ìˆ˜ëª…', 'ìŠ¹', 'íŒ¨', 'ì„¸', 'í™€ë“œ', 'ë¸”ë¡ ', 'ê²½ê¸°', 'ì„ ë°œ', 'ì´ë‹', 'ì‚¼ì§„/9', 'ë³¼ë„·/9',
           'í™ˆëŸ°/9', 'BABIP', 'LOB%', 'ERA', 'RA9-WAR', 'FIP', 'kFIP', 'WAR', 'y',
           'ì—°ë´‰(2017)', 'KIA', 'KT', 'LG', 'NC', 'SK', 'ë‘ì‚°', 'ë¡¯ë°', 'ì‚¼ì„±', 'í•œí™”'],
          dtype='object')




```python
# 2018 ì—°ë´‰ì„ ì˜ˆì¸¡í•˜ì—¬ ë°ì´í„° í”„ë ˆì„ì˜ ì—´ë¡œ ìƒì„±í•©ë‹ˆë‹¤. 
X = picher_df[picher_df.columns.difference(['ì„ ìˆ˜ëª…', 'y'])]
predict_2018_salary = lr.predict(X)
picher_df['ì˜ˆì¸¡ì—°ë´‰(2018)'] = pd.Series(predict_2018_salary)

# ì›ë˜ì˜ ë°ì´í„° í”„ë ˆì„ì„ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. 
picher = pd.read_csv(picher_file_path)
picher = picher[['ì„ ìˆ˜ëª…', 'ì—°ë´‰(2017)']]

# ì›ë˜ì˜ ë°ì´í„° í”„ë ˆì„ì— 2018ë…„ ì—°ë´‰ ì •ë³´ë¥¼ í•©ì¹©ë‹ˆë‹¤. 
result_df = picher_df.sort_values(by = ['y'], ascending = False)
result_df.drop(['ì—°ë´‰(2017)'], axis = 1, inplace = True, errors = 'ignore')
result_df = result_df.merge(picher, on = ['ì„ ìˆ˜ëª…'], how = 'left')
result_df = result_df[['ì„ ìˆ˜ëª…', 'y', 'ì˜ˆì¸¡ì—°ë´‰(2018)', 'ì—°ë´‰(2017)']]
result_df.columns = ['ì„ ìˆ˜ëª…', 'ì‹¤ì œì—°ë´‰(2018)', 'ì˜ˆì¸¡ì—°ë´‰(2018)', 'ì‘ë…„ì—°ë´‰(2017)']

# ì¬ê³„ì•½í•˜ì—¬ ì—°ë´‰ì´ ë³€í™”í•œ ì„ ìˆ˜ë§Œì„ ëŒ€ìƒìœ¼ë¡œ ê´€ì°°í•©ë‹ˆë‹¤. 
result_df = result_df[result_df['ì‘ë…„ì—°ë´‰(2017)'] != result_df['ì‹¤ì œì—°ë´‰(2018)']]
result_df = result_df.reset_index()
result_df = result_df.iloc[:10, :]
result_df.head(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>ì„ ìˆ˜ëª…</th>
      <th>ì‹¤ì œì—°ë´‰(2018)</th>
      <th>ì˜ˆì¸¡ì—°ë´‰(2018)</th>
      <th>ì‘ë…„ì—°ë´‰(2017)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>ì–‘í˜„ì¢…</td>
      <td>230000</td>
      <td>159263.118960</td>
      <td>150000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>ì¼ˆë¦¬</td>
      <td>140000</td>
      <td>121159.281019</td>
      <td>85000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>ì†Œì‚¬</td>
      <td>120000</td>
      <td>90671.950138</td>
      <td>50000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>ë ˆì¼ë¦¬</td>
      <td>111000</td>
      <td>101866.233515</td>
      <td>85000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7</td>
      <td>í”¼ì–´ë°´ë“œ</td>
      <td>85000</td>
      <td>65368.128721</td>
      <td>35000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>13</td>
      <td>ë°°ì˜ìˆ˜</td>
      <td>50000</td>
      <td>56364.448275</td>
      <td>55000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>21</td>
      <td>ì•ˆì˜ëª…</td>
      <td>35000</td>
      <td>23090.089363</td>
      <td>20000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>22</td>
      <td>ì±„ë³‘ìš©</td>
      <td>30000</td>
      <td>23944.288323</td>
      <td>25000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>23</td>
      <td>ë¥˜ì œêµ­</td>
      <td>29000</td>
      <td>37986.566243</td>
      <td>35000</td>
    </tr>
    <tr>
      <th>9</th>
      <td>24</td>
      <td>ë°•ì •ì§„</td>
      <td>25000</td>
      <td>30781.686047</td>
      <td>33000</td>
    </tr>
  </tbody>
</table>
</div>




```python
import matplotlib.pyplot as plt
import matplotlib.font_manager as fm
import platform

# ìœˆë„ìš°ìš© í•œê¸€ í°íŠ¸ ì„¤ì •
if platform.system() == 'Windows':
    plt.rcParams['font.family'] = 'Malgun Gothic'  # ë˜ëŠ” 'ë§‘ì€ ê³ ë”•'

# ë§ˆì´ë„ˆìŠ¤ ê¸°í˜¸ ê¹¨ì§ ë°©ì§€
plt.rcParams['axes.unicode_minus'] = False
```


```python
# ì„ ìˆ˜ë³„ ì—°ë´‰ ì •ë³´ (ì‘ë…„ì—°ë´‰, ì˜ˆì¸¡ì—°ë´‰, ì‹¤ì œì—°ë´‰)ë¥¼ ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤. 
result_df.plot(x = 'ì„ ìˆ˜ëª…', y = ['ì‘ë…„ì—°ë´‰(2017)', 'ì˜ˆì¸¡ì—°ë´‰(2018)', 'ì‹¤ì œì—°ë´‰(2018)'], kind = 'bar')
plt.show()
```


    
![png](/assets/images/Book/4/output_36_0.png)
    


### í‘œë¡œ ì •ë¦¬í•˜ëŠ” ë°ì´í„° ë¶„ì„

|ì£¼ìš” í‚¤ì›Œë“œ|í•µì‹¬ ë‚´ìš©|ì„¤ëª…|
|-|-|-|
|ë°ì´í„°ì˜ ë¶„ë¦¬|í•™ìŠµ ì „ìš© ë°ì´í„°ì…‹ê³¼ í…ŒìŠ¤íŠ¸ ì „ìš© ë°ì´í„°ì…‹ì˜ ë¶„ë¦¬|íšŒê·€ ë¶„ì„ ëª¨ë¸ì„ í•™ìŠµ ì „ìš© ë°ì´í„°ì…‹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ í•™ìŠµí•˜ê³ , ì´ë¥¼ í…ŒìŠ¤íŠ¸ ì „ìš© ë°ì´í„°ì…‹ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì„ 'ì§€ë„ í•™ìŠµ'ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. |
|í”¼ì²˜ì˜ ì •ê·œí™”|ë°ì´í„°ì˜ í”¼ì²˜ ìŠ¤ì¼€ì¼ë§|í”¼ì²˜ ê°„ì˜ ë‹¨ìœ„ë¥¼ ë§ì¶°ì£¼ëŠ” í”¼ì²˜ ìŠ¤ì¼€ì¼ë§ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.|
|ë²”ì£¼í˜• í”¼ì²˜ì˜ ë³€í™˜|ì›-í•« ì¸ì½”ë”©|ì—°ì‚° ë¶ˆê°€ëŠ¥í•œ ë²”ì£¼í˜• í”¼ì²˜ë¥¼ ì—°ì‚° ê°€ëŠ¥í•œ ë²¡í„° í˜•íƒœì˜ í”¼ì²˜ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.|
|íšŒê·€ ë¶„ì„ì˜ í‰ê°€|R2 score, RMSE score|R2 score, RMSE scoreë“±ì˜ í‰ê°€ ì§€í‘œë¥¼ í†µí•´ íšŒê·€ ë¶„ì„ì´ ì–¼ë§ˆë‚˜ ì˜ ë˜ì—ˆëŠ”ì§€ í‰ê°€í•©ë‹ˆë‹¤.|
|ë‹¤ì¤‘ ê³µì„ ì„± ë¶„ì„|í”¼ì²˜ ê°„ì˜ ë…ë¦½ì„± ê²€ì •|VIFê³„ìˆ˜ë¥¼ í†µí•´ í”¼ì²˜ ê°„ì˜ ë‹¤ì¤‘ ê³µì„ ì„± ë¬¸ì œë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.|
