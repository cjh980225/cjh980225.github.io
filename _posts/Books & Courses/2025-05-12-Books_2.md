---
title: "[ì´ê²ƒì´ ë°ì´í„° ë¶„ì„ì´ë‹¤] ë©•ì‹œì½”í’ í”„ëœì°¨ì´ì¦ˆ chipotleì˜ ì£¼ë¬¸ ë°ì´í„° ë¶„ì„í•˜ê¸°"
categories: Books&Courses
tags: [Book, ì´ê²ƒì´_ë°ì´í„°_ë¶„ì„ì´ë‹¤, pandas, visualization, analysis]
---

## ë©•ì‹œì½”í’ í”„ëœì°¨ì´ì¦ˆ chipotleì˜ ì£¼ë¬¸ ë°ì´í„° ë¶„ì„í•˜ê¸°

### íƒìƒ‰ : ë°ì´í„°ì˜ ê¸°ì´ˆ ì •ë³´ ì‚´í´ë³´ê¸°

ğŸ” **chipotle ë°ì´í„°ì…‹ì˜ ê¸°ì´ˆ ì •ë³´ ì¶œë ¥í•˜ê¸°**


```python
# -*- coding : utf-8 -*-
import pandas as pd 

file_path = './data/chipotle.tsv'

# read_csv() í•¨ìˆ˜ë¡œ ë°ì´í„°ë¥¼ ë°ì´í„° í”„ë ˆì„ í˜•íƒœë¡œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. 

chipo = pd.read_csv(file_path, sep = '\t')

print(chipo.shape)
print("------------------------------------------------")
print('\n')
print(chipo.info())
```

    (4622, 5)
    ------------------------------------------------
    
    
    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 4622 entries, 0 to 4621
    Data columns (total 5 columns):
     #   Column              Non-Null Count  Dtype 
    ---  ------              --------------  ----- 
     0   order_id            4622 non-null   int64 
     1   quantity            4622 non-null   int64 
     2   item_name           4622 non-null   object
     3   choice_description  3376 non-null   object
     4   item_price          4622 non-null   object
    dtypes: int64(2), object(3)
    memory usage: 180.7+ KB
    None
    

ğŸ” **shape**

â–ª ë°ì´í„°ì˜ í–‰ê³¼ ì—´ì˜ í¬ê¸°ë¥¼ ë°˜í™˜

â–« 4,622ê°œì˜ í–‰ê³¼ 5ê°œì˜ í”¼ì²˜ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

ğŸ” **info()**

â–ª í–‰ì˜ êµ¬ì„± ì •ë³´ì™€ ì—´ì˜ êµ¬ì„± ì •ë³´ 

â–« order_id, quantity â†’ int64 (ìˆ«ì)

â–« item_name, choice_description. item_price â†’ object (ì¼ë°˜ì ìœ¼ë¡œ ë¬¸ìì—´ì„ ì˜ë¯¸)

â–ª nullì´ë¼ëŠ” ìš©ì–´ëŠ” ë°ì´í„°ê°€ ë¹„ì–´ ìˆëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ë¥¼ ê²°ì¸¡ê°’ì´ë¼ê³  í•©ë‹ˆë‹¤. 

â–« choice_description â†’ 3,376ê°œì˜ ë¹„ì–´ ìˆì§€ ì•Šì€ ë¬¸ìì—´ ë°ì´í„°ê°€ ìˆë‹¤ëŠ” ì •ë³´ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ë°ì´í„°ì˜ ê°œìˆ˜ëŠ” 4,622ê°œ ì´ë¯€ë¡œ 1,246ê°œì˜ ê²°ì¸¡ê°’ì´ ì¡´ì¬í•©ë‹ˆë‹¤. 

ğŸ” **chipotle ë°ì´í„°ì…‹ì˜ í–‰ê³¼ ì—´, ë°ì´í„° í™•ì¸í•˜ê¸°**


```python
chipo.head(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>order_id</th>
      <th>quantity</th>
      <th>item_name</th>
      <th>choice_description</th>
      <th>item_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>Chips and Fresh Tomato Salsa</td>
      <td>NaN</td>
      <td>$2.39</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>Izze</td>
      <td>[Clementine]</td>
      <td>$3.39</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>Nantucket Nectar</td>
      <td>[Apple]</td>
      <td>$3.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>Chips and Tomatillo-Green Chili Salsa</td>
      <td>NaN</td>
      <td>$2.39</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>2</td>
      <td>Chicken Bowl</td>
      <td>[Tomatillo-Red Chili Salsa (Hot), [Black Beans...</td>
      <td>$16.98</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3</td>
      <td>1</td>
      <td>Chicken Bowl</td>
      <td>[Fresh Tomato Salsa (Mild), [Rice, Cheese, Sou...</td>
      <td>$10.98</td>
    </tr>
    <tr>
      <th>6</th>
      <td>3</td>
      <td>1</td>
      <td>Side of Chips</td>
      <td>NaN</td>
      <td>$1.69</td>
    </tr>
    <tr>
      <th>7</th>
      <td>4</td>
      <td>1</td>
      <td>Steak Burrito</td>
      <td>[Tomatillo Red Chili Salsa, [Fajita Vegetables...</td>
      <td>$11.75</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4</td>
      <td>1</td>
      <td>Steak Soft Tacos</td>
      <td>[Tomatillo Green Chili Salsa, [Pinto Beans, Ch...</td>
      <td>$9.25</td>
    </tr>
    <tr>
      <th>9</th>
      <td>5</td>
      <td>1</td>
      <td>Steak Burrito</td>
      <td>[Fresh Tomato Salsa, [Rice, Black Beans, Pinto...</td>
      <td>$9.25</td>
    </tr>
  </tbody>
</table>
</div>




```python
print(chipo.columns)
print("------------------------------------------------")
print(chipo.index)
```

    Index(['order_id', 'quantity', 'item_name', 'choice_description',
           'item_price'],
          dtype='object')
    ------------------------------------------------
    RangeIndex(start=0, stop=4622, step=1)
    

â–« chipotle ë°ì´í„°ì…‹ í”¼ì²˜ì˜ ì˜ë¯¸ëŠ” ê°ê° ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 


|í”¼ì²˜|ì˜ë¯¸|
|-|-|
|order_id|ì£¼ë¬¸ ë²ˆí˜¸|
|quantity|ì•„ì´í…œì˜ ì£¼ë¬¸ ìˆ˜ëŸ‰|
|item_name|ì£¼ë¬¸í•œ ì•„ì´í…œì˜ ì´ë¦„|
|choice_description|ì£¼ë¬¸í•œ ì•„ì´í…œì˜ ìƒì„¸ ì„ íƒ ì˜µì…˜|
|item_price|ì£¼ë¬¸ ì•„ì´í…œì˜ ê°€ê²© ì •ë³´|

#### quantityì™€ item_priceì˜ ìˆ˜ì¹˜ì  íŠ¹ì„±

â–« quantityì™€ item_priceì˜ ìˆ˜ì¹˜ì  íŠ¹ì§•ì€ ë‘ í”¼ì²˜ ë‹¤ ì—°ì†í˜• í”¼ì²˜ì…ë‹ˆë‹¤.

ğŸ” **í”¼ì²˜ í˜•íƒœì˜ ì¢…ë¥˜**

|êµ¬ë¶„|ëª…ì¹­|íŠ¹ì§•|ì˜ˆì‹œ|
|-|-|-|-|
|ìˆ˜ì¹˜í˜• í”¼ì²˜(Numerical Feature)|ì—°ì†í˜• í”¼ì²˜|ì–´ë–¤ êµ¬ê°„ ì•ˆì˜ ëª¨ë“  ê°’ì„ ë°ì´í„°ë¥´ì¨ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.|í‚¤, ëª¸ë¬´ê²Œ|
||ë¹„ì—°ì†ì„±í”¼ì²˜|ì…€ ìˆ˜ ìˆìœ¼ë©°, ì¼ì • êµ¬ê°„ ì•ˆì—ì„œ ì •í•´ì§„ ëª‡ ê°œì˜ ê°’ì„ ê°€ì¡ í•œë‹¤.|ë‚˜ì´|
|ë²”ì£¼í˜• í”¼ì²˜(Categorical Feature)|ìˆœì„œ ìˆëŠ” ë²”ì£¼í˜• í”¼ì²˜|ìˆœì„œê°€ ìˆìœ¼ë‚˜ ìˆ˜ì¹˜ëŠ” ì•„ë‹ˆë‹¤.|í•™ì (A, B, F)|
||ìˆœì„œ ì—†ëŠ” ë²”ì£¼í˜• í”¼ì²˜|ë°ì´í„°ê°€ êµ¬ë¶„ë˜ë©´ì„œë„ ìˆœì„œê°€ ì—†ë‹¤.|í˜ˆì•¡í˜•|

ğŸ” **describe() í•¨ìˆ˜ë¡œ ê¸°ì´ˆ í†µê³„ëŸ‰ ì¶œë ¥í•˜ê¸°**


```python
# order_idëŠ” ìˆ«ìì˜ ì˜ë¯¸ë¥¼ ê°€ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— strìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. 
chipo['order_id'] = chipo['order_id'].astype(str)
print(chipo.describe()) # chipo ë°ì´í„° í”„ë ˆì„ì—ì„œ ìˆ˜ì¹˜í˜• í”¼ì²˜ë“¤ì˜ ê¸°ì´ˆ í†µê³„ëŸ‰ì„ í™•ì¸í•©ë‹ˆë‹¤. 
```

              quantity
    count  4622.000000
    mean      1.075725
    std       0.410186
    min       1.000000
    25%       1.000000
    50%       1.000000
    75%       1.000000
    max      15.000000
    

â–« ì•„ì´í…œì˜ í‰ê·  ì£¼ë¬¸ ìˆ˜ëŸ‰(mean)ì€ ì•½ 1.07ì´ë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

â–« ì´ëŠ” ëŒ€ë¶€ë¶„ì´ í•œ ì•„ì´í…œì— ëŒ€í•´ì„œ 1ê°œ ì •ë„ë§Œ ì£¼ë¬¸í–ˆë‹¤ëŠ” ê²ƒì´ê³ , 'í•œ ì‚¬ëŒì´ ê°™ì€ ë©”ë‰´ë¥¼ ì—¬ëŸ¬ ê°œ êµ¬ë§¤í•˜ëŠ” ê²½ìš°ëŠ” ë§ì§€ ì•Šë‹¤'ëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

#### order_idì™€ item_nameì˜ ê°œìˆ˜

ğŸ” **unique() í•¨ìˆ˜ë¡œ ë²”ì£¼í˜• í”¼ì²˜ì˜ ê°œìˆ˜ ì¶œë ¥í•˜ê¸°**


```python
print(len(chipo['order_id'].unique()))  # order_idì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
print(len(chipo['item_name'].unique())) # item_nameì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
```

    1834
    50
    

### ì¸ì‚¬ì´íŠ¸ì˜ ë°œê²¬ : íƒìƒ‰ê³¼ ì‹œê°í™”í•˜ê¸° 

#### ê°€ì¥ ë§ì´ ì£¼ë¬¸í•œ ì•„ì´í…œ Top10

ğŸ” **ê°€ì¥ ë§ì´ ì£¼ë¬¸í•œ ì•„ì´í…œ Top 10 ì¶œë ¥í•˜ê¸°**


```python
# ê°€ì¥ ë§ì´ ì£¼ë¬¸í•œ ì•„ì´í…œ Top 10ì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
item_count = chipo['item_name'].value_counts()[:10]

for idx, (val, cnt) in enumerate(item_count.items(), 1) : 
    print("Top", idx, ":", val, cnt)
```

    Top 1 : Chicken Bowl 726
    Top 2 : Chicken Burrito 553
    Top 3 : Chips and Guacamole 479
    Top 4 : Steak Burrito 368
    Top 5 : Canned Soft Drink 301
    Top 6 : Steak Bowl 211
    Top 7 : Chips 211
    Top 8 : Bottled Water 162
    Top 9 : Chicken Soft Tacos 115
    Top 10 : Chips and Fresh Tomato Salsa 110
    

#### ì•„ì´í…œ ì£¼ë¬¸ ê°œìˆ˜ì™€ ì´ëŸ‰

ğŸ” **ì•„ì´í…œë³„ ì£¼ë¬¸ ê°œìˆ˜ì™€ ì´ëŸ‰ êµ¬í•˜ê¸°**


```python
# ì•„ì´í…œë³„ ì£¼ë¬¸ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
order_count = chipo.groupby('item_name')['order_id'].count()
order_count[:10] # ì•„ì´í…œë³„ ì£¼ë¬¸ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
```




    item_name
    6 Pack Soft Drink         54
    Barbacoa Bowl             66
    Barbacoa Burrito          91
    Barbacoa Crispy Tacos     11
    Barbacoa Salad Bowl       10
    Barbacoa Soft Tacos       25
    Bottled Water            162
    Bowl                       2
    Burrito                    6
    Canned Soda              104
    Name: order_id, dtype: int64




```python
# ì•„ì´í…œë³„ ì£¼ë¬¸ ì´ëŸ‰ì„ ê³„ì‚°í•©ë‹ˆë‹¤. 
item_quantity = chipo.groupby('item_name')['quantity'].sum()
item_quantity[:10] # ì•„ì´í…œë³„ ì£¼ë¬¸ ì´ëŸ‰ì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
```




    item_name
    6 Pack Soft Drink         55
    Barbacoa Bowl             66
    Barbacoa Burrito          91
    Barbacoa Crispy Tacos     12
    Barbacoa Salad Bowl       10
    Barbacoa Soft Tacos       25
    Bottled Water            211
    Bowl                       4
    Burrito                    6
    Canned Soda              126
    Name: quantity, dtype: int64



#### ì‹œê°í™”

ğŸ” **ì‹œê°í™”ë¡œ ë¶„ì„ ê²°ê³¼ ì‚´í´ë³´ê¸°**


```python
%matplotlib inline 
import numpy as np 
import matplotlib.pyplot as plt 

item_name_list = item_quantity.index.tolist()
x_pos = np.arange(len(item_name_list))
order_cnt = item_quantity.values.tolist()

plt.bar(x_pos, order_cnt, align = 'center')
plt.ylabel('ordered_item_count')
plt.title("Distribution of all ordered item")

plt.show()
```


![png](/assets/images/Book/2/output_18_0.png)
    


ğŸ” **pandasì—ì„œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ value_counts()ì™€ unique()ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¼ê¹Œìš”?**

â–ª unique

    - ê³ ìœ í•œ ê°’ë“¤ë§Œ ë°°ì—´(np.array)ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. 
    - ìˆœì„œë§Œ ë³´ê±°ë‚˜ ê°’ì˜ ì¢…ë¥˜ë¥¼ íŒŒì•…í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. 
    - ë¹ˆë„ìˆ˜ëŠ” ì•Œë ¤ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. 
    
â–ª value_counts()

    - ê³ ìœ í•œ ê°’ê³¼ ê·¸ ê°’ì´ ë‚˜ì˜¨ íšŸìˆ˜ë¥¼ í•¨ê»˜ ì¶œë ¥í•©ë‹ˆë‹¤. 
    - Series í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•©ë‹ˆë‹¤. 
    - ë°ì´í„°ì˜ ë¶„í¬ë‚˜ ë¹ˆë„ë¥¼ íŒŒì•…í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. 


```python
chipo['order_id'].unique()
```




    array(['1', '2', '3', ..., '1832', '1833', '1834'], dtype=object)



### ë°ì´í„° ì „ì²˜ë¦¬ : ì „ì²˜ë¦¬ í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°

ğŸ” **item_price í”¼ì²˜ ì‚´í´ë³´ê¸°**


```python
print(chipo.info())
print("------------------------------------------------")
chipo['item_price'].head()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 4622 entries, 0 to 4621
    Data columns (total 5 columns):
     #   Column              Non-Null Count  Dtype 
    ---  ------              --------------  ----- 
     0   order_id            4622 non-null   object
     1   quantity            4622 non-null   int64 
     2   item_name           4622 non-null   object
     3   choice_description  3376 non-null   object
     4   item_price          4622 non-null   object
    dtypes: int64(1), object(4)
    memory usage: 180.7+ KB
    None
    ------------------------------------------------
    




    0     $2.39 
    1     $3.39 
    2     $3.39 
    3     $2.39 
    4    $16.98 
    Name: item_price, dtype: object



ğŸ” **apply()ì™€ lambdaë¥¼ ì´ìš©í•´ ë°ì´í„° ì „ì²˜ë¦¬í•˜ê¸°**


```python
# columnë‹¨ìœ„ ë°ì´í„°ì— apply()í•¨ìˆ˜ë¡œ ì „ì²˜ë¦¬ë¥¼ ì ìš©í•©ë‹ˆë‹¤. 
chipo['item_price'] = chipo['item_price'].apply(lambda x:float(x[1:]))
chipo.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>quantity</th>
      <th>item_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>4622.000000</td>
      <td>4622.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.075725</td>
      <td>7.464336</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.410186</td>
      <td>4.245557</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>1.090000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.000000</td>
      <td>3.390000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.000000</td>
      <td>8.750000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>9.250000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>15.000000</td>
      <td>44.250000</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ” **apply()**

â—¾ ì‹œë¦¬ì¦ˆ ë‹¨ìœ„ì˜ ì—°ì‚°ì„ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í•­í•´ë©°, sum()ì´ë‚˜ mean()ê³¼ ê°™ì´ ì—°ì‚°ì´ ì •ì˜ëœ í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ìŠµë‹ˆë‹¤. 

â—¾ ë”°ë¼ì„œ í”¼ì²˜ ë‹¨ìœ„ì˜ í•©ê³„ë‚˜ í‰ê· ì„ êµ¬í•  ìˆ˜ë„ ìˆê³ , ìš°ë¦¬ê°€ ì •ì˜í•  ìƒˆë¡œìš´ í•¨ìˆ˜ ë¬¸ìì—´ ë°ì´í„°ì—ì„œ ì²« ë²ˆì§¸ ë¬¸ìì—´ì„ ì œê±°í•œ ë’¤ ë‚˜ë¨¸ì§€ ë¬¸ìì—´ì„ ìˆ˜ì¹˜í˜•ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì…ë ¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. 

### íƒìƒ‰ì  ë¶„ì„ : ìŠ¤ë¬´ê³ ê°œë¡œ ê°œë…ì  íƒìƒ‰ ë¶„ì„í•˜ê¸°

#### ì£¼ë¬¸ë‹¹ í‰ê·  ê³„ì‚°ê¸ˆì•¡ ì¶œë ¥í•˜ê¸°

ğŸ” **ì£¼ë¬¸ë‹¹ í‰ê·  ê³„ì‚°ê¸ˆì•¡ ì¶œë ¥í•˜ê¸°**


```python
# ì£¼ë¬¸ë‹¹ í‰ê·  ê³„ì‚°ê¸ˆì•¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
chipo.groupby('order_id')['item_price'].sum().mean()
```




    18.811428571428568



â–ª ë‹¤ìŒ ì½”ë“œëŠ” order_idë¡œ ê·¸ë£¹ì„ ìƒì„±í•œ ë’¤, item_price í”¼ì²˜ì— sum() í•¨ìˆ˜ë¥¼ ì ìš©í•˜ê³  mean()í•¨ìˆ˜ë¥¼ ì¶”ê°€í•œ ê²ƒì…ë‹ˆë‹¤. 

â–« ì´ë¥¼ í†µí•´ ì£¼ë¬¸ë‹¹ í‰ê·  ê³„ì‚°ê¸ˆì•¡ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤í–‰ ê²°ê³¼, í•œ ì‚¬ëŒì´ ì•½ `18ë‹¬ëŸ¬ ê°€ëŸ‰ì˜ ì£¼ë¬¸ì„ í•  ê²ƒ`ì´ë¼ëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

#### í•œ ì£¼ë¬¸ì— 10ë‹¬ëŸ¬ ì´ìƒ ì§€ë¶ˆí•œ ì£¼ë¬¸ ë²ˆí˜¸(id) ì¶œë ¥í•˜ê¸°

ğŸ” **í•œ ì£¼ë¬¸ì— 10ë‹¬ëŸ¬ ì´ìƒ ì§€ë¶ˆí•œ ì£¼ë¬¸ ë²ˆí˜¸(id)ì¶œë ¥í•˜ê¸°**


```python
# í•œ ì£¼ë¬¸ì— 10ë‹¬ëŸ¬ ì´ìƒ ì§€ë¶ˆí•œ idë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
chipo_orderid_group = chipo.groupby('order_id').sum()
results = chipo_orderid_group[chipo_orderid_group.item_price >= 10]
results[:10]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>quantity</th>
      <th>item_name</th>
      <th>choice_description</th>
      <th>item_price</th>
    </tr>
    <tr>
      <th>order_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>Chips and Fresh Tomato SalsaIzzeNantucket Nect...</td>
      <td>[Clementine][Apple]</td>
      <td>11.56</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2</td>
      <td>Chicken BowlChips and Guacamole</td>
      <td>[Tomatillo Red Chili Salsa, [Fajita Vegetables...</td>
      <td>13.20</td>
    </tr>
    <tr>
      <th>100</th>
      <td>2</td>
      <td>Steak BurritoCanned Soda</td>
      <td>[Roasted Chili Corn Salsa (Medium), [Rice, Bla...</td>
      <td>10.08</td>
    </tr>
    <tr>
      <th>1000</th>
      <td>2</td>
      <td>Barbacoa BowlChicken Bowl</td>
      <td>[Roasted Chili Corn Salsa, [Rice, Black Beans,...</td>
      <td>20.50</td>
    </tr>
    <tr>
      <th>1001</th>
      <td>2</td>
      <td>Steak BurritoCanned Soda</td>
      <td>[Fresh Tomato Salsa (Mild), [Pinto Beans, Rice...</td>
      <td>10.08</td>
    </tr>
    <tr>
      <th>1002</th>
      <td>2</td>
      <td>Barbacoa BurritoSide of Chips</td>
      <td>[[Tomatillo-Green Chili Salsa (Medium), Tomati...</td>
      <td>10.68</td>
    </tr>
    <tr>
      <th>1003</th>
      <td>2</td>
      <td>Carnitas BurritoCanned Soft Drink</td>
      <td>[Tomatillo Red Chili Salsa, [Black Beans, Chee...</td>
      <td>13.00</td>
    </tr>
    <tr>
      <th>1004</th>
      <td>2</td>
      <td>Chicken Bowl</td>
      <td>[Tomatillo-Red Chili Salsa (Hot), [Rice, Fajit...</td>
      <td>21.96</td>
    </tr>
    <tr>
      <th>1005</th>
      <td>3</td>
      <td>Chicken BurritoChipsCanned Soft Drink</td>
      <td>[Fresh Tomato Salsa, [Rice, Black Beans, Chees...</td>
      <td>12.15</td>
    </tr>
    <tr>
      <th>1006</th>
      <td>8</td>
      <td>Chicken Soft TacosVeggie BowlSteak BowlChicken...</td>
      <td>[Fresh Tomato Salsa, [Sour Cream, Lettuce]][Fr...</td>
      <td>71.40</td>
    </tr>
  </tbody>
</table>
</div>




```python
print(results.index.values)
```

    ['1' '10' '100' ... '997' '998' '999']
    

#### ê° ì•„ì´í…œì˜ ê°€ê²© êµ¬í•˜ê¸°

â–« ê° ì•„ì´í…œì˜ ê°€ê²©ì„ ê³„ì‚°í•©ë‹ˆë‹¤. chipotle ë°ì´í„°ì…‹ì—ì„œëŠ” ì£¼ì–´ì§„ ë°ì´í„°ë§Œìœ¼ë¡œ ê° ì•„ì´í…œì˜ ê°€ê²©ì„ ëŒ€ëµì ìœ¼ë¡œ ìœ ì¶”í•´ì•¼ í•©ë‹ˆë‹¤. 

1ï¸âƒ£ chipo[chipo.quantity == 1]ìœ¼ë¡œ ë™ì¼ ì•„ì´í…œì„ 1ê°œë§Œ êµ¬ë§¤í•œ ì£¼ë¬¸ì„ ì„ ë³„í•©ë‹ˆë‹¤. 

2ï¸âƒ£ item_nameì„ ê¸°ì¤€ìœ¼ë¡œ groupby ì—°ì‚°ì„ ìˆ˜í–‰í•œ ë’¤, min() í•¨ìˆ˜ë¡œ ê° ê·¸ë£¹ë³„ ìµœì €ê°€ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. 

3ï¸âƒ£ item_priceë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” sort_values() í•¨ìˆ˜ë¥¼ ì ìš©í•©ë‹ˆë‹¤. 

ğŸ” **sort_values()**

â–ª series ë°ì´í„°ë¥¼ ì •ë ¬í•´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. 

ğŸ” **ê° ì•„ì´í…œì˜ ê°€ê²© êµ¬í•˜ê¸°**


```python
# ê° ì•„ì´í…œì˜ ê°€ê²©ì„ ê³„ì‚°í•©ë‹ˆë‹¤. 
chipo_one_item = chipo[chipo.quantity == 1]
price_per_item = chipo_one_item.groupby('item_name').min()
price_per_item.sort_values(by = 'item_price', ascending = False)[:10]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>order_id</th>
      <th>quantity</th>
      <th>choice_description</th>
      <th>item_price</th>
    </tr>
    <tr>
      <th>item_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Steak Salad Bowl</th>
      <td>1032</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa, Lettuce]</td>
      <td>9.39</td>
    </tr>
    <tr>
      <th>Barbacoa Salad Bowl</th>
      <td>1283</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa, Guacamole]</td>
      <td>9.39</td>
    </tr>
    <tr>
      <th>Carnitas Salad Bowl</th>
      <td>1035</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa, [Rice, Black Beans, Chees...</td>
      <td>9.39</td>
    </tr>
    <tr>
      <th>Carnitas Soft Tacos</th>
      <td>1011</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa (Mild), [Black Beans, Rice...</td>
      <td>8.99</td>
    </tr>
    <tr>
      <th>Carnitas Crispy Tacos</th>
      <td>1774</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa, [Fajita Vegetables, Rice,...</td>
      <td>8.99</td>
    </tr>
    <tr>
      <th>Steak Soft Tacos</th>
      <td>1054</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa (Mild), [Cheese, Sour Cream]]</td>
      <td>8.99</td>
    </tr>
    <tr>
      <th>Carnitas Salad</th>
      <td>1500</td>
      <td>1</td>
      <td>[[Fresh Tomato Salsa (Mild), Roasted Chili Cor...</td>
      <td>8.99</td>
    </tr>
    <tr>
      <th>Carnitas Bowl</th>
      <td>1007</td>
      <td>1</td>
      <td>[Fresh Tomato (Mild), [Guacamole, Lettuce, Ric...</td>
      <td>8.99</td>
    </tr>
    <tr>
      <th>Barbacoa Soft Tacos</th>
      <td>1103</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa, [Black Beans, Cheese, Let...</td>
      <td>8.99</td>
    </tr>
    <tr>
      <th>Barbacoa Crispy Tacos</th>
      <td>110</td>
      <td>1</td>
      <td>[Fresh Tomato Salsa, Guacamole]</td>
      <td>8.99</td>
    </tr>
  </tbody>
</table>
</div>




```python
# ì•„ì´í…œ ê°€ê²© ë¶„í¬ ê·¸ë˜í”„ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
item_name_list = price_per_item.index.tolist()
x_pos = np.arange(len(item_name_list))
item_price = price_per_item['item_price'].tolist()
plt.bar(x_pos, item_price, align = 'center')
plt.ylabel('item price($)')
plt.title('Distribution of item price')
plt.show()
```


    
![png](/assets/images/Book/2/output_32_0.png)
    



```python
# ì•„ì´í…œ ê°€ê²© íˆìŠ¤í† ê·¸ë¨ì„ ì¶œë ¥í•©ë‹ˆë‹¤. 
plt.hist(item_price)
plt.ylabel('counts')
plt.title('Histogram of item price')
plt.show()
```


    
![png](/assets/images/Book/2/output_33_0.png)
    


#### ê°€ì¥ ë¹„ì‹¼ ì£¼ë¬¸ì—ì„œ ì•„ì´í…œì´ ì´ ëª‡ ê°œ íŒ”ë ¸ëŠ”ì§€ êµ¬í•˜ê¸°

ğŸ” **ê°€ì¥ ë¹„ì‹¼ ì£¼ë¬¸ì—ì„œ ì•„ì´í…œì´ ì´ ëª‡ ê°œ íŒ”ë ¸ëŠ”ì§€ êµ¬í•˜ê¸°**


```python
# ê°€ì¥ ë¹„ì‹¼ ì£¼ë¬¸ì—ì„œ ì•„ì´í…œì´ ì´ ëª‡ ê°œ íŒ”ë ¸ëŠ”ì§€ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. 
chipo.groupby('order_id').sum().sort_values(by = 'item_price', ascending = False)[:5]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>quantity</th>
      <th>item_name</th>
      <th>choice_description</th>
      <th>item_price</th>
    </tr>
    <tr>
      <th>order_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>926</th>
      <td>23</td>
      <td>Steak BurritoChicken BowlChicken BowlChicken B...</td>
      <td>[Fresh Tomato Salsa, [Rice, Sour Cream, Lettuc...</td>
      <td>205.25</td>
    </tr>
    <tr>
      <th>1443</th>
      <td>35</td>
      <td>Chips and Fresh Tomato SalsaBottled Water6 Pac...</td>
      <td>[Coke][Fresh Tomato Salsa, [Fajita Vegetables,...</td>
      <td>160.74</td>
    </tr>
    <tr>
      <th>1483</th>
      <td>14</td>
      <td>Chicken BowlSteak BowlChicken BurritoSteak Bow...</td>
      <td>[Roasted Chili Corn Salsa, [Rice, Black Beans,...</td>
      <td>139.00</td>
    </tr>
    <tr>
      <th>691</th>
      <td>11</td>
      <td>Chicken BurritoChicken Salad BowlSteak Burrito...</td>
      <td>[Tomatillo Red Chili Salsa, [Rice, Cheese, Sou...</td>
      <td>118.25</td>
    </tr>
    <tr>
      <th>1786</th>
      <td>20</td>
      <td>Chicken BowlCarnitas BurritoChicken BowlChicke...</td>
      <td>[Fresh Tomato Salsa, Rice][Fresh Tomato Salsa,...</td>
      <td>114.30</td>
    </tr>
  </tbody>
</table>
</div>



#### 'Veggie Salad Bowl'ì´ ëª‡ ë²ˆ ì£¼ë¬¸ë˜ì—ˆëŠ”ì§€ êµ¬í•˜ê¸°

ğŸ” **Veggie Salad Bowl'ì´ ëª‡ ë²ˆ ì£¼ë¬¸ë˜ì—ˆëŠ”ì§€ êµ¬í•˜ê¸°**


```python
# 'Veggie Salad Bowl'ì´ ëª‡ ë²ˆ ì£¼ë¬¸ë˜ì—ˆëŠ”ì§€ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. 
chipo_salad = chipo[chipo['item_name'] == 'Veggie Salad Bowl']
# í•œ ì£¼ë¬¸ ë‚´ì—ì„œ ì¤‘ë³µ ì§‘ê³„ëœ item_nameì„ ì œê±°í•©ë‹ˆë‹¤. 
chipo_salad = chipo_salad.drop_duplicates(['item_name', 'order_id'])

print(len(chipo_salad))
chipo_salad.head(5)
```

    18
    




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>order_id</th>
      <th>quantity</th>
      <th>item_name</th>
      <th>choice_description</th>
      <th>item_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>186</th>
      <td>83</td>
      <td>1</td>
      <td>Veggie Salad Bowl</td>
      <td>[Fresh Tomato Salsa, [Fajita Vegetables, Rice,...</td>
      <td>11.25</td>
    </tr>
    <tr>
      <th>295</th>
      <td>128</td>
      <td>1</td>
      <td>Veggie Salad Bowl</td>
      <td>[Fresh Tomato Salsa, [Fajita Vegetables, Lettu...</td>
      <td>11.25</td>
    </tr>
    <tr>
      <th>455</th>
      <td>195</td>
      <td>1</td>
      <td>Veggie Salad Bowl</td>
      <td>[Fresh Tomato Salsa, [Fajita Vegetables, Rice,...</td>
      <td>11.25</td>
    </tr>
    <tr>
      <th>496</th>
      <td>207</td>
      <td>1</td>
      <td>Veggie Salad Bowl</td>
      <td>[Fresh Tomato Salsa, [Rice, Lettuce, Guacamole...</td>
      <td>11.25</td>
    </tr>
    <tr>
      <th>960</th>
      <td>394</td>
      <td>1</td>
      <td>Veggie Salad Bowl</td>
      <td>[Fresh Tomato Salsa, [Fajita Vegetables, Lettu...</td>
      <td>8.75</td>
    </tr>
  </tbody>
</table>
</div>



#### 'Chicken Bowl'ì„ 2ê°œ ì´ìƒ ì£¼ë¬¸í•œ ê³ ê°ë“¤ì˜ 'Chicken Bowl'ë©”ë‰´ì— ëŒ€í•œ ì´ ì£¼ë¬¸ ìˆ˜ëŸ‰ êµ¬í•˜ê¸°'

ğŸ” **'Chicken Bowl'ì„ 2ê°œ ì´ìƒ ì£¼ë¬¸í•œ ì£¼ë¬¸ íšŸìˆ˜ êµ¬í•˜ê¸°'**


```python
# 'Chicken Bowl'ì„ 2ê°œ ì´ìƒ ì£¼ë¬¸í•œ ê³ ê°ë“¤ì˜ 'Chicken Bowl'ë©”ë‰´ì˜ ì´ ì£¼ë¬¸ ìˆ˜ëŸ‰ì„ êµ¬í•©ë‹ˆë‹¤. 
chipo_chicken = chipo[chipo['item_name'] == 'Chicken Bowl']
chipo_chicken_ordersum = chipo_chicken.groupby('order_id').sum()['quantity']
chipo_chicken_result = chipo_chicken_ordersum[chipo_chicken_ordersum >= 2]

print(len(chipo_chicken_result))
chipo_chicken_result.head(5)
```

    114
    




    order_id
    1004    2
    1023    2
    1072    2
    1078    2
    1091    2
    Name: quantity, dtype: int64



### í‘œë¡œ ì •ë¦¬í•˜ëŠ” ë°ì´í„° ë¶„ì„ 

|ë°ì´í„° íƒìƒ‰ ì§ˆë¬¸|í•´ë‹¹ í”¼ì²˜|ì¸ì‚¬ì´íŠ¸|
|-|-|-|
|ê°€ì¥ ë§ì´ ì£¼ë¬¸ëœ ì•„ì´í…œ|item_name|Chicken Bowlì´ ê°€ì¥ ì¸ê¸° ìˆëŠ” ì•„ì´í…œìœ¼ë¡œ ë‚˜íƒ€ë‚¨.|
|ì£¼ë¬¸ëœ ì „ì²´ ì•„ì´í…œ ì¢…ë¥˜|item_name|ë°ì´í„°ì…‹ì— ì´ 50ê°œì˜ ì£¼ë¬¸ëœ ì•„ì´í…œì´ ì¡´ì¬í•¨.|
|ì•„ì´í…œë‹¹ ì£¼ë¬¸ëœ ì´ ê°œìˆ˜|item_name|50ê°œ ì¤‘, ìƒìœ„ 8ê°œ ì •ë„ì˜ ì•„ì´í…œì´ ì§‘ì¤‘ë¨.|
|ì£¼ë¬¸ë‹¹ í‰ê·  ê³„ì‚° ê¸ˆì•¡|item_price|í‰ê· ì€ ì•½ 18, í‘œì¤€í¸ì°¨ëŠ” 11ë¡œ ë‚˜íƒ€ë‚¨. 25% ~ 75%ì— í•´ë‹¹í•˜ëŠ” êµ¬ê°„ì´ 12 ~ 21ì´ë©° ìµœëŒ€ê°’ì´ 200ì„ ë„˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„, ì†Œìˆ˜ì˜ ì£¼ë¬¸ì„ ì œì™¸í•˜ë©´ ëŒ€ë¶€ë¶„ í‰ê·  ê·¼ì²˜ì˜ ê³„ì‚° ê¸ˆì•¡ì„ ë³´ì„. í‘œì¤€í¸ì°¨ 11ì€ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í†µí•œ ë³´ì •ê°’ì„ ê³„ì‚°í•  ì—¬ì§€ê°€ ìˆìŒ|
|ê° ì•„ì´í…œì˜ ëŒ€ëµì ì¸ ê°€ê²©|item_price|ì•„ì´í…œì˜ íŒë§¤ ê°€ê²©ì€ ëŒ€ë¶€ë¶„ 2 ~ 4, í˜¹ì€ 6 ~ 8 ë‹¬ëŸ¬ ì •ë„ì„.|
