---
title: "국가 (대륙)별 / 상품군별 온라인 쇼핑 해외직접판매액" 


categories: Data_Science


tag: [python, Data_Science, Data, visualization, Preprocessing]

---

# 국가 (대륙)별 / 상품군별 온라인쇼핑 해외직접판매액 
- [국가통계포털](https://kosis.kr/statHtml/statHtml.do?sso=ok&returnurl=https%3A%2F%2Fkosis.kr%3A443%2FstatHtml%2FstatHtml.do%3Fconn_path%3DMT_ZTITLE%26list_id%3DJF%26obj_var_id%3D%26seqNo%3D%26tblId%3DDT_1KE10081%26vw_cd%3DMT_ZTITLE%26itm_id%3D%26language%3Dkor%26lang_mode%3Dko%26orgId%3D101%26)
- [관련기사](https://world.kbs.co.kr/service/news_view.htm?lang=k&Seq_Code=346701)

## K-Beauty는 성장하고 있을까? 해외 직접판매를 한다면 어느 국가로 판매전략을 세우면 좋을까? 
- [K-Beauty란?](https://ko.wikipedia.org/wiki/K%EB%B7%B0%ED%8B%B0)
- e : 추정치, p : 잠정치, - : 자료없음, ... : 미상자료, x : 비밀보호, ▽ : 시계열 불연 (단위 : 백만원)

---

# 필요 라이브러리 가져오기 


```python
# 라이브러리 로드 
import pandas as pd 
import seaborn as sns 
import matplotlib.pyplot as plt 

%matplotlib inline 
```


```python
import numpy as np
```


```python
# 시각화를 위한 폰트 설정 
import os 

if os.name == "posix" : 
    sns.set(font = "AppleGothic")
elif os.name == "nt" : 
    sns.set(font = "Malgun Gothic")
```


```python
# 레티나 설정을 해주면 글씨가 좀 더 선명하게 보입니다. 
# 폰트의 주변이 흐릿하게 보이는 것을 방지합니다. 
%config InlineBackend.figure_format = 'retina'
```

---

# 데이터 로드하기


```python
df_raw = pd.read_csv("data/101_DT_1KE10081_20250314151518.csv", encoding = "cp949")
df_raw.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>2014.1/4</th>
      <th>2014.2/4</th>
      <th>2014.3/4</th>
      <th>2014.4/4</th>
      <th>2015.1/4</th>
      <th>2015.2/4</th>
      <th>2015.3/4</th>
      <th>...</th>
      <th>2022.3/4</th>
      <th>2022.4/4</th>
      <th>2023.1/4</th>
      <th>2023.2/4</th>
      <th>2023.3/4</th>
      <th>2023.4/4</th>
      <th>2024.1/4</th>
      <th>2024.2/4</th>
      <th>2024.3/4</th>
      <th>2024.4/4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>합계</td>
      <td>합계</td>
      <td>계</td>
      <td>148272.0</td>
      <td>153641.0</td>
      <td>163999.0</td>
      <td>213216.0</td>
      <td>269101.0</td>
      <td>271784.0</td>
      <td>268421.0</td>
      <td>...</td>
      <td>421606.0</td>
      <td>353963.0</td>
      <td>291336.0</td>
      <td>481202.0</td>
      <td>452744.0</td>
      <td>471927.0</td>
      <td>415256.0</td>
      <td>460589.0</td>
      <td>417987.0</td>
      <td>428641.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>211727.0</td>
      <td>152997.0</td>
      <td>111187.0</td>
      <td>281235.0</td>
      <td>271525.0</td>
      <td>280391.0</td>
      <td>239885.0</td>
      <td>257535.0</td>
      <td>225055.0</td>
      <td>226952.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>209879.0</td>
      <td>200966.0</td>
      <td>180149.0</td>
      <td>199967.0</td>
      <td>181219.0</td>
      <td>191536.0</td>
      <td>175371.0</td>
      <td>203054.0</td>
      <td>192932.0</td>
      <td>201689.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>4915.0</td>
      <td>4052.0</td>
      <td>3912.0</td>
      <td>3529.0</td>
      <td>2903.0</td>
      <td>2697.0</td>
      <td>3804.0</td>
      <td>...</td>
      <td>2944.0</td>
      <td>3195.0</td>
      <td>4044.0</td>
      <td>3205.0</td>
      <td>4260.0</td>
      <td>3769.0</td>
      <td>15307.0</td>
      <td>22559.0</td>
      <td>20442.0</td>
      <td>23695.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 47 columns</p>
</div>




```python
# "국가(대륙)별" 데이터 빈도수 세기 
df_raw["지역별"].value_counts()
```




    합계         51
    유럽         51
    아프리카       51
    중남미        51
    대양주        51
    기타 유럽      51
    영국         51
    유럽연합       51
    유럽연합+영국    51
    캐나다        51
    아시아        51
    미국         51
    북미         51
    기타 아시아     51
    중동         51
    아세안        51
    일본         51
    중국         51
    기타         51
    Name: 지역별, dtype: int64




```python
# 미국 데이터만 따로 보기 
df_raw[df_raw["지역별"] == "미국"]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>2014.1/4</th>
      <th>2014.2/4</th>
      <th>2014.3/4</th>
      <th>2014.4/4</th>
      <th>2015.1/4</th>
      <th>2015.2/4</th>
      <th>2015.3/4</th>
      <th>...</th>
      <th>2022.3/4</th>
      <th>2022.4/4</th>
      <th>2023.1/4</th>
      <th>2023.2/4</th>
      <th>2023.3/4</th>
      <th>2023.4/4</th>
      <th>2024.1/4</th>
      <th>2024.2/4</th>
      <th>2024.3/4</th>
      <th>2024.4/4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>408</th>
      <td>미국</td>
      <td>합계</td>
      <td>계</td>
      <td>25773.0</td>
      <td>22573.0</td>
      <td>21288.0</td>
      <td>26729.0</td>
      <td>39945.0</td>
      <td>26654.0</td>
      <td>28647.0</td>
      <td>...</td>
      <td>49997.0</td>
      <td>56551.0</td>
      <td>49332.0</td>
      <td>60356.0</td>
      <td>61652.0</td>
      <td>72022.0</td>
      <td>67469.0</td>
      <td>85921.0</td>
      <td>93262.0</td>
      <td>98144.0</td>
    </tr>
    <tr>
      <th>409</th>
      <td>미국</td>
      <td>합계</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>222.0</td>
      <td>362.0</td>
      <td>222.0</td>
      <td>362.0</td>
      <td>1084.0</td>
      <td>1700.0</td>
      <td>670.0</td>
      <td>1416.0</td>
      <td>1326.0</td>
      <td>2152.0</td>
    </tr>
    <tr>
      <th>410</th>
      <td>미국</td>
      <td>합계</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>49775.0</td>
      <td>56189.0</td>
      <td>49110.0</td>
      <td>59994.0</td>
      <td>60568.0</td>
      <td>70322.0</td>
      <td>66799.0</td>
      <td>84505.0</td>
      <td>91936.0</td>
      <td>95992.0</td>
    </tr>
    <tr>
      <th>411</th>
      <td>미국</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2216.0</td>
      <td>1666.0</td>
      <td>1776.0</td>
      <td>1675.0</td>
      <td>1469.0</td>
      <td>1393.0</td>
      <td>2166.0</td>
      <td>...</td>
      <td>839.0</td>
      <td>1019.0</td>
      <td>1419.0</td>
      <td>1059.0</td>
      <td>984.0</td>
      <td>1067.0</td>
      <td>6325.0</td>
      <td>10180.0</td>
      <td>10106.0</td>
      <td>11966.0</td>
    </tr>
    <tr>
      <th>412</th>
      <td>미국</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>413</th>
      <td>미국</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>839.0</td>
      <td>1019.0</td>
      <td>1419.0</td>
      <td>1059.0</td>
      <td>984.0</td>
      <td>1067.0</td>
      <td>6325.0</td>
      <td>10180.0</td>
      <td>10106.0</td>
      <td>11966.0</td>
    </tr>
    <tr>
      <th>414</th>
      <td>미국</td>
      <td>가전·전자·통신기기</td>
      <td>계</td>
      <td>2875.0</td>
      <td>2758.0</td>
      <td>2894.0</td>
      <td>3527.0</td>
      <td>4397.0</td>
      <td>3589.0</td>
      <td>2982.0</td>
      <td>...</td>
      <td>537.0</td>
      <td>602.0</td>
      <td>934.0</td>
      <td>1018.0</td>
      <td>422.0</td>
      <td>919.0</td>
      <td>524.0</td>
      <td>1337.0</td>
      <td>423.0</td>
      <td>1009.0</td>
    </tr>
    <tr>
      <th>415</th>
      <td>미국</td>
      <td>가전·전자·통신기기</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>14.0</td>
      <td>16.0</td>
      <td>50.0</td>
      <td>22.0</td>
      <td>61.0</td>
      <td>68.0</td>
      <td>78.0</td>
    </tr>
    <tr>
      <th>416</th>
      <td>미국</td>
      <td>가전·전자·통신기기</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>536.0</td>
      <td>596.0</td>
      <td>928.0</td>
      <td>1004.0</td>
      <td>406.0</td>
      <td>869.0</td>
      <td>502.0</td>
      <td>1276.0</td>
      <td>355.0</td>
      <td>931.0</td>
    </tr>
    <tr>
      <th>417</th>
      <td>미국</td>
      <td>가전·전자</td>
      <td>계</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>822.0</td>
      <td>893.0</td>
      <td>401.0</td>
      <td>894.0</td>
      <td>462.0</td>
      <td>1302.0</td>
      <td>388.0</td>
      <td>980.0</td>
    </tr>
    <tr>
      <th>418</th>
      <td>미국</td>
      <td>가전·전자</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>14.0</td>
      <td>15.0</td>
      <td>50.0</td>
      <td>21.0</td>
      <td>56.0</td>
      <td>66.0</td>
      <td>78.0</td>
    </tr>
    <tr>
      <th>419</th>
      <td>미국</td>
      <td>가전·전자</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>816.0</td>
      <td>879.0</td>
      <td>386.0</td>
      <td>844.0</td>
      <td>441.0</td>
      <td>1246.0</td>
      <td>322.0</td>
      <td>902.0</td>
    </tr>
    <tr>
      <th>420</th>
      <td>미국</td>
      <td>통신기기</td>
      <td>계</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>112.0</td>
      <td>125.0</td>
      <td>21.0</td>
      <td>25.0</td>
      <td>62.0</td>
      <td>35.0</td>
      <td>35.0</td>
      <td>29.0</td>
    </tr>
    <tr>
      <th>421</th>
      <td>미국</td>
      <td>통신기기</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>422</th>
      <td>미국</td>
      <td>통신기기</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>112.0</td>
      <td>125.0</td>
      <td>20.0</td>
      <td>25.0</td>
      <td>61.0</td>
      <td>30.0</td>
      <td>33.0</td>
      <td>29.0</td>
    </tr>
    <tr>
      <th>423</th>
      <td>미국</td>
      <td>소프트웨어</td>
      <td>계</td>
      <td>47.0</td>
      <td>57.0</td>
      <td>49.0</td>
      <td>128.0</td>
      <td>182.0</td>
      <td>113.0</td>
      <td>163.0</td>
      <td>...</td>
      <td>87.0</td>
      <td>268.0</td>
      <td>240.0</td>
      <td>48.0</td>
      <td>55.0</td>
      <td>238.0</td>
      <td>69.0</td>
      <td>30.0</td>
      <td>46.0</td>
      <td>271.0</td>
    </tr>
    <tr>
      <th>424</th>
      <td>미국</td>
      <td>소프트웨어</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>425</th>
      <td>미국</td>
      <td>소프트웨어</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>87.0</td>
      <td>268.0</td>
      <td>240.0</td>
      <td>48.0</td>
      <td>55.0</td>
      <td>238.0</td>
      <td>69.0</td>
      <td>30.0</td>
      <td>46.0</td>
      <td>271.0</td>
    </tr>
    <tr>
      <th>426</th>
      <td>미국</td>
      <td>서 적</td>
      <td>계</td>
      <td>962.0</td>
      <td>720.0</td>
      <td>934.0</td>
      <td>1006.0</td>
      <td>1074.0</td>
      <td>837.0</td>
      <td>993.0</td>
      <td>...</td>
      <td>1434.0</td>
      <td>1306.0</td>
      <td>1408.0</td>
      <td>1078.0</td>
      <td>1237.0</td>
      <td>1653.0</td>
      <td>1216.0</td>
      <td>992.0</td>
      <td>1039.0</td>
      <td>1404.0</td>
    </tr>
    <tr>
      <th>427</th>
      <td>미국</td>
      <td>서 적</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>428</th>
      <td>미국</td>
      <td>서 적</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>1434.0</td>
      <td>1306.0</td>
      <td>1408.0</td>
      <td>1078.0</td>
      <td>1237.0</td>
      <td>1653.0</td>
      <td>1216.0</td>
      <td>992.0</td>
      <td>1039.0</td>
      <td>1404.0</td>
    </tr>
    <tr>
      <th>429</th>
      <td>미국</td>
      <td>사무·문구</td>
      <td>계</td>
      <td>25.0</td>
      <td>10.0</td>
      <td>14.0</td>
      <td>18.0</td>
      <td>568.0</td>
      <td>17.0</td>
      <td>32.0</td>
      <td>...</td>
      <td>290.0</td>
      <td>1032.0</td>
      <td>477.0</td>
      <td>208.0</td>
      <td>310.0</td>
      <td>1656.0</td>
      <td>1176.0</td>
      <td>2299.0</td>
      <td>1614.0</td>
      <td>1390.0</td>
    </tr>
    <tr>
      <th>430</th>
      <td>미국</td>
      <td>사무·문구</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>431</th>
      <td>미국</td>
      <td>사무·문구</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>290.0</td>
      <td>1031.0</td>
      <td>477.0</td>
      <td>208.0</td>
      <td>310.0</td>
      <td>1656.0</td>
      <td>1176.0</td>
      <td>2298.0</td>
      <td>1614.0</td>
      <td>1390.0</td>
    </tr>
    <tr>
      <th>432</th>
      <td>미국</td>
      <td>음반·비디오·악기</td>
      <td>계</td>
      <td>787.0</td>
      <td>720.0</td>
      <td>722.0</td>
      <td>821.0</td>
      <td>849.0</td>
      <td>781.0</td>
      <td>827.0</td>
      <td>...</td>
      <td>7589.0</td>
      <td>6992.0</td>
      <td>8032.0</td>
      <td>11710.0</td>
      <td>9893.0</td>
      <td>13034.0</td>
      <td>7232.0</td>
      <td>8519.0</td>
      <td>9455.0</td>
      <td>9800.0</td>
    </tr>
    <tr>
      <th>433</th>
      <td>미국</td>
      <td>음반·비디오·악기</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>434</th>
      <td>미국</td>
      <td>음반·비디오·악기</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>7589.0</td>
      <td>6992.0</td>
      <td>8032.0</td>
      <td>11710.0</td>
      <td>9893.0</td>
      <td>13034.0</td>
      <td>7232.0</td>
      <td>8519.0</td>
      <td>9455.0</td>
      <td>9800.0</td>
    </tr>
    <tr>
      <th>435</th>
      <td>미국</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>9810.0</td>
      <td>7801.0</td>
      <td>6404.0</td>
      <td>9208.0</td>
      <td>8602.0</td>
      <td>6927.0</td>
      <td>8055.0</td>
      <td>...</td>
      <td>20138.0</td>
      <td>25312.0</td>
      <td>18251.0</td>
      <td>20269.0</td>
      <td>20556.0</td>
      <td>27688.0</td>
      <td>23914.0</td>
      <td>28008.0</td>
      <td>26987.0</td>
      <td>26737.0</td>
    </tr>
    <tr>
      <th>436</th>
      <td>미국</td>
      <td>의류 및 패션 관련 상품</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>38.0</td>
      <td>40.0</td>
      <td>25.0</td>
      <td>49.0</td>
      <td>97.0</td>
      <td>162.0</td>
      <td>96.0</td>
      <td>168.0</td>
      <td>166.0</td>
      <td>230.0</td>
    </tr>
    <tr>
      <th>437</th>
      <td>미국</td>
      <td>의류 및 패션 관련 상품</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>20100.0</td>
      <td>25272.0</td>
      <td>18226.0</td>
      <td>20220.0</td>
      <td>20459.0</td>
      <td>27526.0</td>
      <td>23818.0</td>
      <td>27840.0</td>
      <td>26821.0</td>
      <td>26507.0</td>
    </tr>
    <tr>
      <th>438</th>
      <td>미국</td>
      <td>스포츠·레저용품</td>
      <td>계</td>
      <td>573.0</td>
      <td>539.0</td>
      <td>475.0</td>
      <td>491.0</td>
      <td>541.0</td>
      <td>527.0</td>
      <td>481.0</td>
      <td>...</td>
      <td>427.0</td>
      <td>670.0</td>
      <td>273.0</td>
      <td>360.0</td>
      <td>214.0</td>
      <td>221.0</td>
      <td>223.0</td>
      <td>211.0</td>
      <td>183.0</td>
      <td>292.0</td>
    </tr>
    <tr>
      <th>439</th>
      <td>미국</td>
      <td>스포츠·레저용품</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>440</th>
      <td>미국</td>
      <td>스포츠·레저용품</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>427.0</td>
      <td>670.0</td>
      <td>273.0</td>
      <td>360.0</td>
      <td>214.0</td>
      <td>221.0</td>
      <td>223.0</td>
      <td>211.0</td>
      <td>182.0</td>
      <td>290.0</td>
    </tr>
    <tr>
      <th>441</th>
      <td>미국</td>
      <td>화장품</td>
      <td>계</td>
      <td>3740.0</td>
      <td>3713.0</td>
      <td>3399.0</td>
      <td>4595.0</td>
      <td>11223.0</td>
      <td>6176.0</td>
      <td>7061.0</td>
      <td>...</td>
      <td>7407.0</td>
      <td>9535.0</td>
      <td>8762.0</td>
      <td>13484.0</td>
      <td>16841.0</td>
      <td>13452.0</td>
      <td>12772.0</td>
      <td>19081.0</td>
      <td>23916.0</td>
      <td>24133.0</td>
    </tr>
    <tr>
      <th>442</th>
      <td>미국</td>
      <td>화장품</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>108.0</td>
      <td>208.0</td>
      <td>130.0</td>
      <td>208.0</td>
      <td>864.0</td>
      <td>1359.0</td>
      <td>420.0</td>
      <td>1004.0</td>
      <td>901.0</td>
      <td>1503.0</td>
    </tr>
    <tr>
      <th>443</th>
      <td>미국</td>
      <td>화장품</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>7299.0</td>
      <td>9327.0</td>
      <td>8632.0</td>
      <td>13276.0</td>
      <td>15977.0</td>
      <td>12093.0</td>
      <td>12352.0</td>
      <td>18077.0</td>
      <td>23015.0</td>
      <td>22630.0</td>
    </tr>
    <tr>
      <th>444</th>
      <td>미국</td>
      <td>아동·유아용품</td>
      <td>계</td>
      <td>583.0</td>
      <td>546.0</td>
      <td>499.0</td>
      <td>610.0</td>
      <td>1099.0</td>
      <td>603.0</td>
      <td>619.0</td>
      <td>...</td>
      <td>353.0</td>
      <td>539.0</td>
      <td>475.0</td>
      <td>295.0</td>
      <td>390.0</td>
      <td>421.0</td>
      <td>309.0</td>
      <td>289.0</td>
      <td>293.0</td>
      <td>328.0</td>
    </tr>
    <tr>
      <th>445</th>
      <td>미국</td>
      <td>아동·유아용품</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>446</th>
      <td>미국</td>
      <td>아동·유아용품</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>353.0</td>
      <td>539.0</td>
      <td>475.0</td>
      <td>295.0</td>
      <td>390.0</td>
      <td>421.0</td>
      <td>309.0</td>
      <td>289.0</td>
      <td>293.0</td>
      <td>328.0</td>
    </tr>
    <tr>
      <th>447</th>
      <td>미국</td>
      <td>음·식료품</td>
      <td>계</td>
      <td>381.0</td>
      <td>415.0</td>
      <td>405.0</td>
      <td>673.0</td>
      <td>577.0</td>
      <td>628.0</td>
      <td>631.0</td>
      <td>...</td>
      <td>1070.0</td>
      <td>920.0</td>
      <td>1630.0</td>
      <td>1737.0</td>
      <td>1566.0</td>
      <td>2069.0</td>
      <td>2114.0</td>
      <td>1757.0</td>
      <td>1459.0</td>
      <td>2709.0</td>
    </tr>
    <tr>
      <th>448</th>
      <td>미국</td>
      <td>음·식료품</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>75.0</td>
      <td>107.0</td>
      <td>61.0</td>
      <td>91.0</td>
      <td>107.0</td>
      <td>129.0</td>
      <td>132.0</td>
      <td>181.0</td>
      <td>179.0</td>
      <td>336.0</td>
    </tr>
    <tr>
      <th>449</th>
      <td>미국</td>
      <td>음·식료품</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>995.0</td>
      <td>813.0</td>
      <td>1569.0</td>
      <td>1646.0</td>
      <td>1459.0</td>
      <td>1940.0</td>
      <td>1982.0</td>
      <td>1576.0</td>
      <td>1280.0</td>
      <td>2373.0</td>
    </tr>
    <tr>
      <th>450</th>
      <td>미국</td>
      <td>농축수산물</td>
      <td>계</td>
      <td>94.0</td>
      <td>98.0</td>
      <td>111.0</td>
      <td>160.0</td>
      <td>189.0</td>
      <td>192.0</td>
      <td>193.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>9.0</td>
      <td>11.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>10.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>5.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>451</th>
      <td>미국</td>
      <td>농축수산물</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>452</th>
      <td>미국</td>
      <td>농축수산물</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>10.0</td>
      <td>9.0</td>
      <td>11.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>10.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>5.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>453</th>
      <td>미국</td>
      <td>생활·자동차용품</td>
      <td>계</td>
      <td>1931.0</td>
      <td>1915.0</td>
      <td>1815.0</td>
      <td>1871.0</td>
      <td>6605.0</td>
      <td>2189.0</td>
      <td>2207.0</td>
      <td>...</td>
      <td>1399.0</td>
      <td>1830.0</td>
      <td>1231.0</td>
      <td>1675.0</td>
      <td>1933.0</td>
      <td>2473.0</td>
      <td>2168.0</td>
      <td>3106.0</td>
      <td>3267.0</td>
      <td>6059.0</td>
    </tr>
    <tr>
      <th>454</th>
      <td>미국</td>
      <td>생활·자동차용품</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>11.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>455</th>
      <td>미국</td>
      <td>생활·자동차용품</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>1399.0</td>
      <td>1830.0</td>
      <td>1231.0</td>
      <td>1675.0</td>
      <td>1933.0</td>
      <td>2473.0</td>
      <td>2168.0</td>
      <td>3105.0</td>
      <td>3256.0</td>
      <td>6056.0</td>
    </tr>
    <tr>
      <th>456</th>
      <td>미국</td>
      <td>기 타</td>
      <td>계</td>
      <td>1749.0</td>
      <td>1615.0</td>
      <td>1791.0</td>
      <td>1946.0</td>
      <td>2570.0</td>
      <td>2682.0</td>
      <td>2237.0</td>
      <td>...</td>
      <td>8416.0</td>
      <td>6520.0</td>
      <td>6189.0</td>
      <td>7407.0</td>
      <td>7248.0</td>
      <td>7121.0</td>
      <td>9419.0</td>
      <td>10104.0</td>
      <td>14469.0</td>
      <td>12037.0</td>
    </tr>
    <tr>
      <th>457</th>
      <td>미국</td>
      <td>기 타</td>
      <td>면세점</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>458</th>
      <td>미국</td>
      <td>기 타</td>
      <td>면세점 이외</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>8416.0</td>
      <td>6520.0</td>
      <td>6189.0</td>
      <td>7407.0</td>
      <td>7248.0</td>
      <td>7121.0</td>
      <td>9419.0</td>
      <td>10104.0</td>
      <td>14469.0</td>
      <td>12037.0</td>
    </tr>
  </tbody>
</table>
<p>51 rows × 47 columns</p>
</div>



---

# 분석과 시각화를 위한 tidy data 만들기 
- [Pandas](https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf)


```python
df_raw.columns 
```




    Index(['지역별', '상품군별', '판매유형별', '2014.1/4', '2014.2/4', '2014.3/4', '2014.4/4',
           '2015.1/4', '2015.2/4', '2015.3/4', '2015.4/4', '2016.1/4', '2016.2/4',
           '2016.3/4', '2016.4/4', '2017.1/4', '2017.2/4', '2017.3/4', '2017.4/4',
           '2018.1/4', '2018.2/4', '2018.3/4', '2018.4/4', '2019.1/4', '2019.2/4',
           '2019.3/4', '2019.4/4', '2020.1/4', '2020.2/4', '2020.3/4', '2020.4/4',
           '2021.1/4', '2021.2/4', '2021.3/4', '2021.4/4', '2022.1/4', '2022.2/4',
           '2022.3/4', '2022.4/4', '2023.1/4', '2023.2/4', '2023.3/4', '2023.4/4',
           '2024.1/4', '2024.2/4', '2024.3/4', '2024.4/4'],
          dtype='object')




```python
df = df_raw.melt(id_vars = ["지역별", "상품군별", "판매유형별"], var_name = "기간", value_name = "백만원")
df.shape
```




    (42636, 5)




```python
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>합계</td>
      <td>합계</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>148272.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점 이외</td>
      <td>2014.1/4</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>4915.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 42636 entries, 0 to 42635
    Data columns (total 5 columns):
     #   Column  Non-Null Count  Dtype 
    ---  ------  --------------  ----- 
     0   지역별     42636 non-null  object
     1   상품군별    42636 non-null  object
     2   판매유형별   42636 non-null  object
     3   기간      42636 non-null  object
     4   백만원     28248 non-null  object
    dtypes: object(5)
    memory usage: 1.6+ MB
    

---

# 데이터 전처리 

## 기간에서 연도를 분리하기 


```python
df["연도"] = df["기간"].map(lambda x : int(x.split(".")[0]))
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>합계</td>
      <td>합계</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>148272.0</td>
      <td>2014</td>
    </tr>
    <tr>
      <th>1</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
    </tr>
    <tr>
      <th>2</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점 이외</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
    </tr>
    <tr>
      <th>3</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>4915.0</td>
      <td>2014</td>
    </tr>
    <tr>
      <th>4</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
    </tr>
  </tbody>
</table>
</div>




```python
"2014.1/4".split(".")[1].split("/")[0]
```




    '1'




```python
# 기간에서 분기만 분리하기 
df["분기"] = df["기간"].map(lambda x : int(x.split(".")[1].split("/")[0]))
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
      <th>분기</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>합계</td>
      <td>합계</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>148272.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점 이외</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>4915.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



## 금액을 수치데이터로 표현하기 위해 데이터 타입 변경하기 


```python
# _ 문자를 결측치로 변경하고 float 타입으로 변경하기 

df["백만원"] = df["백만원"].replace("-", np.nan).astype(float)
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
      <th>분기</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>합계</td>
      <td>합계</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>148272.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>합계</td>
      <td>합계</td>
      <td>면세점 이외</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>4915.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>합계</td>
      <td>컴퓨터 및 주변기기</td>
      <td>면세점</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



## 필요없는 데이터 제거하기 


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 42636 entries, 0 to 42635
    Data columns (total 7 columns):
     #   Column  Non-Null Count  Dtype  
    ---  ------  --------------  -----  
     0   지역별     42636 non-null  object 
     1   상품군별    42636 non-null  object 
     2   판매유형별   42636 non-null  object 
     3   기간      42636 non-null  object 
     4   백만원     19944 non-null  float64
     5   연도      42636 non-null  int64  
     6   분기      42636 non-null  int64  
    dtypes: float64(1), int64(2), object(4)
    memory usage: 2.3+ MB
    


```python
# 합계 데이터는 따로 구할 수 있기 때문에 전체 데이터에서 제거합니다. 
df = df[(df["지역별"] != "합계") & (df["상품군별"] != "합계")].copy()
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 38016 entries, 54 to 42635
    Data columns (total 7 columns):
     #   Column  Non-Null Count  Dtype  
    ---  ------  --------------  -----  
     0   지역별     38016 non-null  object 
     1   상품군별    38016 non-null  object 
     2   판매유형별   38016 non-null  object 
     3   기간      38016 non-null  object 
     4   백만원     17112 non-null  float64
     5   연도      38016 non-null  int64  
     6   분기      38016 non-null  int64  
    dtypes: float64(1), int64(2), object(4)
    memory usage: 2.3+ MB
    


```python
# 결측치 보기 
df.isnull().sum()
```




    지역별          0
    상품군별         0
    판매유형별        0
    기간           0
    백만원      20904
    연도           0
    분기           0
    dtype: int64



---

# K-Beauty 시각화 

## 전체 상품군 판매액 


```python
# 판매유형별 데이터는 일부 기간에는 "계"만 존재하기 때문에 
# 판매유형별 == "계" 데이터만 가져와서 봐야지 
# 평균 값을 구하는 그래프에서 올바른 값을 표현할 수 있습니다. 
df_total = df[df["판매유형별"] == "계"].copy()
df_total.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
      <th>분기</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>54</th>
      <td>아시아</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>57</th>
      <td>아시아</td>
      <td>가전·전자·통신기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>60</th>
      <td>아시아</td>
      <td>가전·전자</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>63</th>
      <td>아시아</td>
      <td>통신기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>66</th>
      <td>아시아</td>
      <td>소프트웨어</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 연도, 판매액 lineplot으로 그리기 
sns.lineplot(data = df_total, x = "연도", y = "백만원")
```




    <AxesSubplot:xlabel='연도', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_27_1.png)
    


- [legend를 그래프의 밖에 그리기](https://www.stackoverflow.com/questions/30490740/move-legend-outside-figure-in-seaborn-tsplot)


```python
# 연도, 판매액 lineplot으로 그리고 상품군별로 다른 색상으로 표시하기 
sns.lineplot(data = df_total, x = "연도", y = "백만원", hue = "상품군별")
plt.legend(bbox_to_anchor = (1.05, 1), loc = 2, borderaxespad = 0.)
```




    <matplotlib.legend.Legend at 0x1e0d4cacf70>




    
![png](/assets/images/Data_Science/third/output_29_1.png)
    



```python
# 위에 그린 그래프를 자세히 보기 위해 서브플롯으로 표시하기 
sns.relplot(data = df_total, x = "연도", y = "백만원", 
            hue = "상품군별", kind = "line", col = "상품군별", col_wrap = 4)
```




    <seaborn.axisgrid.FacetGrid at 0x1e0d4ebfe20>




    
![png](/assets/images/Data_Science/third/output_30_1.png)
    



```python
# isin을 사용해 화장품만 제외를 하고 df_sub 이라는 변수에 담습니다. 
df_sub = df_total[~df_total["상품군별"].isin(["화장품", "의류 및 패션 관련 상품"])].copy()
df_sub
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
      <th>분기</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>54</th>
      <td>아시아</td>
      <td>컴퓨터 및 주변기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>57</th>
      <td>아시아</td>
      <td>가전·전자·통신기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>60</th>
      <td>아시아</td>
      <td>가전·전자</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>63</th>
      <td>아시아</td>
      <td>통신기기</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>66</th>
      <td>아시아</td>
      <td>소프트웨어</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>42621</th>
      <td>기타</td>
      <td>아동·유아용품</td>
      <td>계</td>
      <td>2024.4/4</td>
      <td>NaN</td>
      <td>2024</td>
      <td>4</td>
    </tr>
    <tr>
      <th>42624</th>
      <td>기타</td>
      <td>음·식료품</td>
      <td>계</td>
      <td>2024.4/4</td>
      <td>NaN</td>
      <td>2024</td>
      <td>4</td>
    </tr>
    <tr>
      <th>42627</th>
      <td>기타</td>
      <td>농축수산물</td>
      <td>계</td>
      <td>2024.4/4</td>
      <td>NaN</td>
      <td>2024</td>
      <td>4</td>
    </tr>
    <tr>
      <th>42630</th>
      <td>기타</td>
      <td>생활·자동차용품</td>
      <td>계</td>
      <td>2024.4/4</td>
      <td>NaN</td>
      <td>2024</td>
      <td>4</td>
    </tr>
    <tr>
      <th>42633</th>
      <td>기타</td>
      <td>기 타</td>
      <td>계</td>
      <td>2024.4/4</td>
      <td>NaN</td>
      <td>2024</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>11088 rows × 7 columns</p>
</div>




```python
# 연도별 판매액을 상품군별로 relplot을 활용해 서브플롯으로 그려보기 
sns.relplot(data = df_sub, x = "연도", y = "백만원", 
            hue = "상품군별", col = "상품군별", col_wrap = 4, kind = "line")
```




    <seaborn.axisgrid.FacetGrid at 0x1e0d7075cd0>




    
![png](/assets/images/Data_Science/third/output_32_1.png)
    


## 화장품의 온라인쇼핑 해외직접판매액


```python
# df_cosmetic 이라는 변수에 상품군별이 화장품인 데이터만 가져오기 

df_cosmetic = df_total[df_total["상품군별"]  == "화장품"].copy()
df_cosmetic["상품군별"].unique()
```




    array(['화장품'], dtype=object)




```python
# 연도와 판매액을 lineplot으로 그리고 분기별로 다른 색상으로 표현해 보기 
plt.figure(figsize = (15, 4))
sns.lineplot(data = df_cosmetic, x = "연도", y = "백만원", hue = "분기")
```




    <AxesSubplot:xlabel='연도', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_35_1.png)
    



```python
# 화장품 판매액에 대한 기간별 금액 데이터 시각화 하기 
plt.figure(figsize = (15, 4))
plt.xticks(rotation = 40)
sns.lineplot(data = df_cosmetic, x = "기간", y = "백만원")
```




    <AxesSubplot:xlabel='기간', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_36_1.png)
    



```python
plt.figure(figsize = (15, 4))
plt.xticks(rotation = 40)
sns.lineplot(data = df_cosmetic, 
             x = "기간", y = "백만원", hue = "지역별")
```




    <AxesSubplot:xlabel='기간', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_37_1.png)
    



```python
# 화장품 판매액에 대한 기간별 금액 데이터 시각화하고 "지역별"로 다른 색상으로 표시하기
plt.figure(figsize = (15, 4))
plt.xticks(rotation = 40)
sns.lineplot(data = df_cosmetic[(df_cosmetic["지역별"] != "중국") & (df_cosmetic["지역별"] != "아시아")], 
             x = "기간", y = "백만원", hue = "지역별")
```




    <AxesSubplot:xlabel='기간', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_38_1.png)
    



```python
# 화장품 판매액에 대한 기간별 금액 데이터 시각화하고 "판매유형별"로 다른 색상으로 표시하기 
plt.figure(figsize = (15, 4))
plt.xticks(rotation = 40)

df_sub = df[(df["판매유형별"] != "계") & (df["판매유형별"] != "면세점")].copy()

sns.lineplot(data = df_sub, x = "기간", y = "백만원", hue = "판매유형별", errorbar = None)
```




    <AxesSubplot:xlabel='기간', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_39_1.png)
    


## 의류 및 패션관련 상품 온라인쇼핑 해외직접판매액


```python
# df_fashion 이라는 변수에 의류 데이터만 가져와 따로 담아주기 
df_fashion = df[(df["상품군별"] == "의류 및 패션 관련 상품") & (df["판매유형별"] == "계")].copy()
df_fashion.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
      <th>분기</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>78</th>
      <td>아시아</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>129</th>
      <td>중국</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>12206.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>180</th>
      <td>일본</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>13534.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>231</th>
      <td>아세안</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>3473.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>282</th>
      <td>중동</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>342.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>




```python
# "의류 및 패션 관련 상품" 판매액에 대한 기간별 금액 데이터 시각화하고 
# "지역별"로 다른 색상으로 표시하기 

plt.figure(figsize = (15, 4))
plt.xticks(rotation = 40)
sns.lineplot(data = df_fashion, x = "기간", y = "백만원", hue = "지역별")
```




    <AxesSubplot:xlabel='기간', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_42_1.png)
    



```python
# "의류 및 패션 관련 상품" 판매액에 대한 기간별 금액 데이터 시각화하고
# "판매유형별"로 다른 색상으로 표시하기 

df_fashion2 = df[(df["상품군별"] == "의류 및 패션 관련 상품") & (df["판매유형별"] != "계")].copy()

plt.figure(figsize = (15, 4))
plt.xticks(rotation = 40)
sns.lineplot(data = df_fashion2, x = "기간", y = "백만원", hue = "판매유형별", errorbar = None)
```




    <AxesSubplot:xlabel='기간', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_43_1.png)
    


## 데이터 집계하기 


```python
df_fashion.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역별</th>
      <th>상품군별</th>
      <th>판매유형별</th>
      <th>기간</th>
      <th>백만원</th>
      <th>연도</th>
      <th>분기</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>78</th>
      <td>아시아</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>NaN</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>129</th>
      <td>중국</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>12206.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>180</th>
      <td>일본</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>13534.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>231</th>
      <td>아세안</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>3473.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
    <tr>
      <th>282</th>
      <td>중동</td>
      <td>의류 및 패션 관련 상품</td>
      <td>계</td>
      <td>2014.1/4</td>
      <td>342.0</td>
      <td>2014</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 피봇테이블로 "지역별", "연도"별 합계 금액을 표 형태로 구하기 

result = df_fashion.pivot_table(index = "지역별", columns = "연도", 
                       values = "백만원", aggfunc = "mean")
result
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>연도</th>
      <th>2014</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
      <th>2023</th>
      <th>2024</th>
    </tr>
    <tr>
      <th>지역별</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>기타</th>
      <td>2420.75</td>
      <td>1812.00</td>
      <td>1479.50</td>
      <td>3298.00</td>
      <td>5975.25</td>
      <td>1618.75</td>
      <td>1951.75</td>
      <td>2116.00</td>
      <td>1420.75</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>기타 아시아</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>168.00</td>
      <td>200.00</td>
    </tr>
    <tr>
      <th>기타 유럽</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>151.25</td>
      <td>65.00</td>
    </tr>
    <tr>
      <th>대양주</th>
      <td>848.00</td>
      <td>587.25</td>
      <td>850.25</td>
      <td>679.00</td>
      <td>681.25</td>
      <td>622.25</td>
      <td>937.25</td>
      <td>1191.50</td>
      <td>1224.00</td>
      <td>781.25</td>
      <td>571.25</td>
    </tr>
    <tr>
      <th>미국</th>
      <td>8305.75</td>
      <td>9516.50</td>
      <td>12112.75</td>
      <td>12909.50</td>
      <td>11968.75</td>
      <td>13884.00</td>
      <td>20551.75</td>
      <td>24011.00</td>
      <td>21673.50</td>
      <td>21691.00</td>
      <td>26411.50</td>
    </tr>
    <tr>
      <th>북미</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>22008.75</td>
      <td>26741.25</td>
    </tr>
    <tr>
      <th>아세안</th>
      <td>3734.00</td>
      <td>4909.75</td>
      <td>6119.50</td>
      <td>6074.25</td>
      <td>5767.00</td>
      <td>7811.75</td>
      <td>9834.75</td>
      <td>7686.00</td>
      <td>8245.00</td>
      <td>6756.25</td>
      <td>8351.50</td>
    </tr>
    <tr>
      <th>아시아</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>40924.75</td>
      <td>47598.75</td>
    </tr>
    <tr>
      <th>아프리카</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.75</td>
      <td>1.25</td>
    </tr>
    <tr>
      <th>영국</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>240.75</td>
      <td>328.75</td>
    </tr>
    <tr>
      <th>유럽</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>882.25</td>
      <td>976.50</td>
    </tr>
    <tr>
      <th>유럽연합</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>490.25</td>
      <td>582.75</td>
    </tr>
    <tr>
      <th>유럽연합+영국</th>
      <td>1121.25</td>
      <td>843.50</td>
      <td>1224.75</td>
      <td>1022.75</td>
      <td>1028.50</td>
      <td>923.50</td>
      <td>1282.00</td>
      <td>1179.00</td>
      <td>1110.50</td>
      <td>731.00</td>
      <td>911.50</td>
    </tr>
    <tr>
      <th>일본</th>
      <td>12240.00</td>
      <td>14398.50</td>
      <td>19976.25</td>
      <td>22632.75</td>
      <td>34200.00</td>
      <td>33659.25</td>
      <td>29882.75</td>
      <td>29135.75</td>
      <td>22746.00</td>
      <td>13844.00</td>
      <td>12156.50</td>
    </tr>
    <tr>
      <th>중국</th>
      <td>14382.75</td>
      <td>35584.75</td>
      <td>47733.00</td>
      <td>57082.50</td>
      <td>72212.00</td>
      <td>82566.75</td>
      <td>26586.50</td>
      <td>25483.00</td>
      <td>12242.25</td>
      <td>20076.75</td>
      <td>26810.25</td>
    </tr>
    <tr>
      <th>중남미</th>
      <td>243.75</td>
      <td>154.00</td>
      <td>162.25</td>
      <td>193.00</td>
      <td>144.00</td>
      <td>136.00</td>
      <td>153.50</td>
      <td>162.50</td>
      <td>52.50</td>
      <td>27.50</td>
      <td>24.25</td>
    </tr>
    <tr>
      <th>중동</th>
      <td>293.00</td>
      <td>254.50</td>
      <td>242.00</td>
      <td>202.00</td>
      <td>219.75</td>
      <td>237.75</td>
      <td>444.00</td>
      <td>345.75</td>
      <td>167.25</td>
      <td>79.75</td>
      <td>80.50</td>
    </tr>
    <tr>
      <th>캐나다</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>317.75</td>
      <td>329.75</td>
    </tr>
  </tbody>
</table>
</div>



## 연산결과를 시각적으로 보기 


```python
# 피봇테이블로 구한 결과를 값의 많고 적음에 따라 시각적으로 표현하기 

plt.figure(figsize = (15, 8))
sns.heatmap(result, cmap = "Blues", annot = True, fmt = ".0f")
```




    <AxesSubplot:xlabel='연도', ylabel='지역별'>




    
![png](/assets/images/Data_Science/third/output_48_1.png)
    


---

# 전체 상품군별로 온라인쇼핑 해외직접판매액은 증가했을까? 


```python
# 위에서 판매유형별 데이터의 "계"만 모은 df_total 변수를 통한 연도별 합계 금액을 시각화 하기 

sns.barplot(data = df_total, x = "연도", y = "백만원")
```




    <AxesSubplot:xlabel='연도', ylabel='백만원'>




    
![png](/assets/images/Data_Science/third/output_50_1.png)
    



```python
# 연도별 판매액을 그리고 "지역별"로 다른 색상으로 표현하기 
plt.figure(figsize = (15, 4))
sns.lineplot(data = df_total, x = "연도", y = "백만원", hue = "지역별")
plt.legend(bbox_to_anchor = (1.05, 1), loc = 2, borderaxespad = 0.)
```




    <matplotlib.legend.Legend at 0x1e0d8c21d60>




    
![png](/assets/images/Data_Science/third/output_51_1.png)
    


- [legend를 그래프 밖에 그리기](https://stackoverflow.com/questions/30490740/move-legend-outside-figure-in-seaborn-tsplot)


```python
#  연도별 판매액을 그리고 "상품군별"로 다른 색상으로 표현하기 

plt.figure(figsize = (15, 4))
sns.lineplot(data = df_total, x = "연도", y = "백만원", hue = "상품군별")
plt.legend(bbox_to_anchor = (1.05, 1), loc = 2, borderaxespad = 0.)
```




    <matplotlib.legend.Legend at 0x1e0d9ba9e80>




    
![png](/assets/images/Data_Science/third/output_53_1.png)
    

